
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/extensions/dragonbones/CCSlot.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

var _mat = _interopRequireDefault(require("../../cocos2d/core/value-types/mat4"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/****************************************************************************
 Copyright (c) 2016 Chukong Technologies Inc.
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 http://www.cocos2d-x.org

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/
var BinaryOffset = dragonBones.BinaryOffset;
var BoneType = dragonBones.BoneType;
dragonBones.CCSlot = cc.Class({
  name: 'dragonBones.CCSlot',
  "extends": dragonBones.Slot,
  ctor: function ctor() {
    this._localVertices = [];
    this._indices = [];
    this._matrix = cc.mat4();
    this._worldMatrix = cc.mat4();
    this._worldMatrixDirty = true;
    this._visible = false;
    this._color = cc.color();
  },
  _onClear: function _onClear() {
    this._super();

    this._localVertices.length = 0;
    this._indices.length = 0;

    _mat["default"].identity(this._matrix);

    _mat["default"].identity(this._worldMatrix);

    this._worldMatrixDirty = true;
    this._color = cc.color();
    this._visible = false;
  },
  statics: {
    toString: function toString() {
      return "[class dragonBones.CCSlot]";
    }
  },
  // just for adapt to dragonbones api,no need to do any thing
  _onUpdateDisplay: function _onUpdateDisplay() {},
  // just for adapt to dragonbones api,no need to do any thing
  _initDisplay: function _initDisplay(value) {},
  _addDisplay: function _addDisplay() {
    this._visible = true;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _replaceDisplay: function _replaceDisplay(value) {},
  _removeDisplay: function _removeDisplay() {
    this._visible = false;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _disposeDisplay: function _disposeDisplay(object) {},
  _updateVisible: function _updateVisible() {
    this._visible = this.parent._visible;
  },
  // just for adapt to dragonbones api,no need to do any thing
  _updateZOrder: function _updateZOrder() {},
  _updateBlendMode: function _updateBlendMode() {
    if (this._childArmature) {
      var childSlots = this._childArmature.getSlots();

      for (var i = 0, l = childSlots.length; i < l; i++) {
        var slot = childSlots[i];
        slot._blendMode = this._blendMode;

        slot._updateBlendMode();
      }
    }
  },
  _updateColor: function _updateColor() {
    var c = this._color;
    c.r = this._colorTransform.redMultiplier * 255;
    c.g = this._colorTransform.greenMultiplier * 255;
    c.b = this._colorTransform.blueMultiplier * 255;
    c.a = this._colorTransform.alphaMultiplier * 255;
  },
  //return dragonBones.CCTexture2D
  getTexture: function getTexture() {
    return this._textureData && this._textureData.spriteFrame && this._textureData.spriteFrame.getTexture();
  },
  _updateFrame: function _updateFrame() {
    this._indices.length = 0;
    var indices = this._indices,
        localVertices = this._localVertices;
    var indexOffset = 0,
        vfOffset = 0;
    var currentTextureData = this._textureData;
    if (!this._display || this._displayIndex < 0 || !currentTextureData || !currentTextureData.spriteFrame) return;
    var texture = currentTextureData.spriteFrame.getTexture();
    var textureAtlasWidth = texture.width;
    var textureAtlasHeight = texture.height;
    var region = currentTextureData.region;
    var currentVerticesData = this._deformVertices !== null && this._display === this._meshDisplay ? this._deformVertices.verticesData : null;

    if (currentVerticesData) {
      var data = currentVerticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexCount];
      var triangleCount = intArray[currentVerticesData.offset + BinaryOffset.MeshTriangleCount];
      var vertexOffset = intArray[currentVerticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug. 
      }

      var uvOffset = vertexOffset + vertexCount * 2;
      var scale = this._armature._armatureData.scale;

      for (var i = 0, l = vertexCount * 2; i < l; i += 2) {
        localVertices[vfOffset++] = floatArray[vertexOffset + i] * scale;
        localVertices[vfOffset++] = -floatArray[vertexOffset + i + 1] * scale;

        if (currentVerticesData.rotated) {
          localVertices[vfOffset++] = (region.x + (1.0 - floatArray[uvOffset + i]) * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        } else {
          localVertices[vfOffset++] = (region.x + floatArray[uvOffset + i] * region.width) / textureAtlasWidth;
          localVertices[vfOffset++] = (region.y + floatArray[uvOffset + i + 1] * region.height) / textureAtlasHeight;
        }
      }

      for (var _i = 0; _i < triangleCount * 3; ++_i) {
        indices[indexOffset++] = intArray[currentVerticesData.offset + BinaryOffset.MeshVertexIndices + _i];
      }

      localVertices.length = vfOffset;
      indices.length = indexOffset;
      var isSkinned = !!currentVerticesData.weight;

      if (isSkinned) {
        this._identityTransform();
      }
    } else {
      var _l = region.x / textureAtlasWidth;

      var b = (region.y + region.height) / textureAtlasHeight;
      var r = (region.x + region.width) / textureAtlasWidth;
      var t = region.y / textureAtlasHeight;
      localVertices[vfOffset++] = 0; // 0x

      localVertices[vfOffset++] = 0; // 0y

      localVertices[vfOffset++] = _l; // 0u

      localVertices[vfOffset++] = b; // 0v

      localVertices[vfOffset++] = region.width; // 1x

      localVertices[vfOffset++] = 0; // 1y

      localVertices[vfOffset++] = r; // 1u

      localVertices[vfOffset++] = b; // 1v

      localVertices[vfOffset++] = 0; // 2x

      localVertices[vfOffset++] = region.height;
      ; // 2y

      localVertices[vfOffset++] = _l; // 2u

      localVertices[vfOffset++] = t; // 2v

      localVertices[vfOffset++] = region.width; // 3x

      localVertices[vfOffset++] = region.height;
      ; // 3y

      localVertices[vfOffset++] = r; // 3u

      localVertices[vfOffset++] = t; // 3v

      indices[0] = 0;
      indices[1] = 1;
      indices[2] = 2;
      indices[3] = 1;
      indices[4] = 3;
      indices[5] = 2;
      localVertices.length = vfOffset;
      indices.length = 6;
    }

    this._visibleDirty = true;
    this._blendModeDirty = true;
    this._colorDirty = true;
  },
  _updateMesh: function _updateMesh() {
    var scale = this._armature._armatureData.scale;
    var deformVertices = this._deformVertices.vertices;
    var bones = this._deformVertices.bones;
    var verticesData = this._deformVertices.verticesData;
    var weightData = verticesData.weight;
    var hasDeform = deformVertices.length > 0 && verticesData.inheritDeform;
    var localVertices = this._localVertices;

    if (weightData) {
      var data = verticesData.data;
      var intArray = data.intArray;
      var floatArray = data.floatArray;
      var vertexCount = intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var weightFloatOffset = intArray[weightData.offset + BinaryOffset.WeigthFloatOffset];

      if (weightFloatOffset < 0) {
        weightFloatOffset += 65536; // Fixed out of bouds bug. 
      }

      for (var i = 0, iB = weightData.offset + BinaryOffset.WeigthBoneIndices + bones.length, iV = weightFloatOffset, iF = 0, lvi = 0; i < vertexCount; i++, lvi += 4) {
        var boneCount = intArray[iB++];
        var xG = 0.0,
            yG = 0.0;

        for (var j = 0; j < boneCount; ++j) {
          var boneIndex = intArray[iB++];
          var bone = bones[boneIndex];

          if (bone !== null) {
            var matrix = bone.globalTransformMatrix;
            var weight = floatArray[iV++];
            var xL = floatArray[iV++] * scale;
            var yL = floatArray[iV++] * scale;

            if (hasDeform) {
              xL += deformVertices[iF++];
              yL += deformVertices[iF++];
            }

            xG += (matrix.a * xL + matrix.c * yL + matrix.tx) * weight;
            yG += (matrix.b * xL + matrix.d * yL + matrix.ty) * weight;
          }
        }

        localVertices[lvi] = xG;
        localVertices[lvi + 1] = -yG;
      }
    } else if (hasDeform) {
      var isSurface = this._parent._boneData.type !== BoneType.Bone;
      var _data = verticesData.data;
      var _intArray = _data.intArray;
      var _floatArray = _data.floatArray;
      var _vertexCount = _intArray[verticesData.offset + BinaryOffset.MeshVertexCount];
      var vertexOffset = _intArray[verticesData.offset + BinaryOffset.MeshFloatOffset];

      if (vertexOffset < 0) {
        vertexOffset += 65536; // Fixed out of bouds bug. 
      }

      for (var _i2 = 0, l = _vertexCount, _lvi = 0; _i2 < l; _i2++, _lvi += 4) {
        var x = _floatArray[vertexOffset + _i2 * 2] * scale + deformVertices[_i2 * 2];
        var y = _floatArray[vertexOffset + _i2 * 2 + 1] * scale + deformVertices[_i2 * 2 + 1];

        if (isSurface) {
          var _matrix = this._parent._getGlobalTransformMatrix(x, y);

          localVertices[_lvi] = _matrix.a * x + _matrix.c * y + _matrix.tx;
          localVertices[_lvi + 1] = -_matrix.b * x + _matrix.d * y + _matrix.ty;
        } else {
          localVertices[_lvi] = x;
          localVertices[_lvi + 1] = -y;
        }
      }
    }

    if (weightData) {
      this._identityTransform();
    }
  },
  _identityTransform: function _identityTransform() {
    var m = this._matrix.m;
    m[0] = 1.0;
    m[1] = 0.0;
    m[4] = -0.0;
    m[5] = -1.0;
    m[12] = 0.0;
    m[13] = 0.0;
    this._worldMatrixDirty = true;
  },
  _updateTransform: function _updateTransform() {
    var t = this._matrix;
    var tm = t.m;
    tm[0] = this.globalTransformMatrix.a;
    tm[1] = this.globalTransformMatrix.b;
    tm[4] = -this.globalTransformMatrix.c;
    tm[5] = -this.globalTransformMatrix.d;

    if (this._childArmature) {
      tm[12] = this.globalTransformMatrix.tx;
      tm[13] = this.globalTransformMatrix.ty;
    } else {
      tm[12] = this.globalTransformMatrix.tx - (this.globalTransformMatrix.a * this._pivotX - this.globalTransformMatrix.c * this._pivotY);
      tm[13] = this.globalTransformMatrix.ty - (this.globalTransformMatrix.b * this._pivotX - this.globalTransformMatrix.d * this._pivotY);
    }

    this._worldMatrixDirty = true;
  },
  updateWorldMatrix: function updateWorldMatrix() {
    if (!this._armature) return;
    var parentSlot = this._armature._parent;

    if (parentSlot) {
      parentSlot.updateWorldMatrix();
    }

    if (this._worldMatrixDirty) {
      this.calculWorldMatrix();
      var childArmature = this.childArmature;
      if (!childArmature) return;
      var slots = childArmature.getSlots();

      for (var i = 0, n = slots.length; i < n; i++) {
        var slot = slots[i];

        if (slot) {
          slot._worldMatrixDirty = true;
        }
      }
    }
  },
  _mulMat: function _mulMat(out, a, b) {
    var am = a.m,
        bm = b.m,
        outm = out.m;
    var aa = am[0],
        ab = am[1],
        ac = am[4],
        ad = am[5],
        atx = am[12],
        aty = am[13];
    var ba = bm[0],
        bb = bm[1],
        bc = bm[4],
        bd = bm[5],
        btx = bm[12],
        bty = bm[13];

    if (ab !== 0 || ac !== 0) {
      outm[0] = ba * aa + bb * ac;
      outm[1] = ba * ab + bb * ad;
      outm[4] = bc * aa + bd * ac;
      outm[5] = bc * ab + bd * ad;
      outm[12] = aa * btx + ac * bty + atx;
      outm[13] = ab * btx + ad * bty + aty;
    } else {
      outm[0] = ba * aa;
      outm[1] = bb * ad;
      outm[4] = bc * aa;
      outm[5] = bd * ad;
      outm[12] = aa * btx + atx;
      outm[13] = ad * bty + aty;
    }
  },
  calculWorldMatrix: function calculWorldMatrix() {
    var parent = this._armature._parent;

    if (parent) {
      this._mulMat(this._worldMatrix, parent._worldMatrix, this._matrix);
    } else {
      _mat["default"].copy(this._worldMatrix, this._matrix);
    }

    this._worldMatrixDirty = false;
  }
});
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXZcXGV4dGVuc2lvbnNcXGRyYWdvbmJvbmVzXFxDQ1Nsb3QuanMiXSwibmFtZXMiOlsiQmluYXJ5T2Zmc2V0IiwiZHJhZ29uQm9uZXMiLCJCb25lVHlwZSIsIkNDU2xvdCIsImNjIiwiQ2xhc3MiLCJuYW1lIiwiU2xvdCIsImN0b3IiLCJfbG9jYWxWZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX21hdHJpeCIsIm1hdDQiLCJfd29ybGRNYXRyaXgiLCJfd29ybGRNYXRyaXhEaXJ0eSIsIl92aXNpYmxlIiwiX2NvbG9yIiwiY29sb3IiLCJfb25DbGVhciIsIl9zdXBlciIsImxlbmd0aCIsIk1hdDQiLCJpZGVudGl0eSIsInN0YXRpY3MiLCJ0b1N0cmluZyIsIl9vblVwZGF0ZURpc3BsYXkiLCJfaW5pdERpc3BsYXkiLCJ2YWx1ZSIsIl9hZGREaXNwbGF5IiwiX3JlcGxhY2VEaXNwbGF5IiwiX3JlbW92ZURpc3BsYXkiLCJfZGlzcG9zZURpc3BsYXkiLCJvYmplY3QiLCJfdXBkYXRlVmlzaWJsZSIsInBhcmVudCIsIl91cGRhdGVaT3JkZXIiLCJfdXBkYXRlQmxlbmRNb2RlIiwiX2NoaWxkQXJtYXR1cmUiLCJjaGlsZFNsb3RzIiwiZ2V0U2xvdHMiLCJpIiwibCIsInNsb3QiLCJfYmxlbmRNb2RlIiwiX3VwZGF0ZUNvbG9yIiwiYyIsInIiLCJfY29sb3JUcmFuc2Zvcm0iLCJyZWRNdWx0aXBsaWVyIiwiZyIsImdyZWVuTXVsdGlwbGllciIsImIiLCJibHVlTXVsdGlwbGllciIsImEiLCJhbHBoYU11bHRpcGxpZXIiLCJnZXRUZXh0dXJlIiwiX3RleHR1cmVEYXRhIiwic3ByaXRlRnJhbWUiLCJfdXBkYXRlRnJhbWUiLCJpbmRpY2VzIiwibG9jYWxWZXJ0aWNlcyIsImluZGV4T2Zmc2V0IiwidmZPZmZzZXQiLCJjdXJyZW50VGV4dHVyZURhdGEiLCJfZGlzcGxheSIsIl9kaXNwbGF5SW5kZXgiLCJ0ZXh0dXJlIiwidGV4dHVyZUF0bGFzV2lkdGgiLCJ3aWR0aCIsInRleHR1cmVBdGxhc0hlaWdodCIsImhlaWdodCIsInJlZ2lvbiIsImN1cnJlbnRWZXJ0aWNlc0RhdGEiLCJfZGVmb3JtVmVydGljZXMiLCJfbWVzaERpc3BsYXkiLCJ2ZXJ0aWNlc0RhdGEiLCJkYXRhIiwiaW50QXJyYXkiLCJmbG9hdEFycmF5IiwidmVydGV4Q291bnQiLCJvZmZzZXQiLCJNZXNoVmVydGV4Q291bnQiLCJ0cmlhbmdsZUNvdW50IiwiTWVzaFRyaWFuZ2xlQ291bnQiLCJ2ZXJ0ZXhPZmZzZXQiLCJNZXNoRmxvYXRPZmZzZXQiLCJ1dk9mZnNldCIsInNjYWxlIiwiX2FybWF0dXJlIiwiX2FybWF0dXJlRGF0YSIsInJvdGF0ZWQiLCJ4IiwieSIsIk1lc2hWZXJ0ZXhJbmRpY2VzIiwiaXNTa2lubmVkIiwid2VpZ2h0IiwiX2lkZW50aXR5VHJhbnNmb3JtIiwidCIsIl92aXNpYmxlRGlydHkiLCJfYmxlbmRNb2RlRGlydHkiLCJfY29sb3JEaXJ0eSIsIl91cGRhdGVNZXNoIiwiZGVmb3JtVmVydGljZXMiLCJ2ZXJ0aWNlcyIsImJvbmVzIiwid2VpZ2h0RGF0YSIsImhhc0RlZm9ybSIsImluaGVyaXREZWZvcm0iLCJ3ZWlnaHRGbG9hdE9mZnNldCIsIldlaWd0aEZsb2F0T2Zmc2V0IiwiaUIiLCJXZWlndGhCb25lSW5kaWNlcyIsImlWIiwiaUYiLCJsdmkiLCJib25lQ291bnQiLCJ4RyIsInlHIiwiaiIsImJvbmVJbmRleCIsImJvbmUiLCJtYXRyaXgiLCJnbG9iYWxUcmFuc2Zvcm1NYXRyaXgiLCJ4TCIsInlMIiwidHgiLCJkIiwidHkiLCJpc1N1cmZhY2UiLCJfcGFyZW50IiwiX2JvbmVEYXRhIiwidHlwZSIsIkJvbmUiLCJfZ2V0R2xvYmFsVHJhbnNmb3JtTWF0cml4IiwibSIsIl91cGRhdGVUcmFuc2Zvcm0iLCJ0bSIsIl9waXZvdFgiLCJfcGl2b3RZIiwidXBkYXRlV29ybGRNYXRyaXgiLCJwYXJlbnRTbG90IiwiY2FsY3VsV29ybGRNYXRyaXgiLCJjaGlsZEFybWF0dXJlIiwic2xvdHMiLCJuIiwiX211bE1hdCIsIm91dCIsImFtIiwiYm0iLCJvdXRtIiwiYWEiLCJhYiIsImFjIiwiYWQiLCJhdHgiLCJhdHkiLCJiYSIsImJiIiwiYmMiLCJiZCIsImJ0eCIsImJ0eSIsImNvcHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUF5QkE7Ozs7QUF6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUEsSUFBTUEsWUFBWSxHQUFHQyxXQUFXLENBQUNELFlBQWpDO0FBQ0EsSUFBTUUsUUFBUSxHQUFJRCxXQUFXLENBQUNDLFFBQTlCO0FBRUFELFdBQVcsQ0FBQ0UsTUFBWixHQUFxQkMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDMUJDLEVBQUFBLElBQUksRUFBRSxvQkFEb0I7QUFFMUIsYUFBU0wsV0FBVyxDQUFDTSxJQUZLO0FBSTFCQyxFQUFBQSxJQUowQixrQkFJbEI7QUFDSixTQUFLQyxjQUFMLEdBQXNCLEVBQXRCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFNBQUtDLE9BQUwsR0FBZVAsRUFBRSxDQUFDUSxJQUFILEVBQWY7QUFDQSxTQUFLQyxZQUFMLEdBQW9CVCxFQUFFLENBQUNRLElBQUgsRUFBcEI7QUFDQSxTQUFLRSxpQkFBTCxHQUF5QixJQUF6QjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsS0FBaEI7QUFDQSxTQUFLQyxNQUFMLEdBQWNaLEVBQUUsQ0FBQ2EsS0FBSCxFQUFkO0FBQ0gsR0FaeUI7QUFjMUJDLEVBQUFBLFFBZDBCLHNCQWNkO0FBQ1IsU0FBS0MsTUFBTDs7QUFDQSxTQUFLVixjQUFMLENBQW9CVyxNQUFwQixHQUE2QixDQUE3QjtBQUNBLFNBQUtWLFFBQUwsQ0FBY1UsTUFBZCxHQUF1QixDQUF2Qjs7QUFDQUMsb0JBQUtDLFFBQUwsQ0FBYyxLQUFLWCxPQUFuQjs7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KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gQ29weXJpZ2h0IChjKSAyMDE2IENodWtvbmcgVGVjaG5vbG9naWVzIEluYy5cclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZ1xyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxuIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG4gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcbiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IE1hdDQgZnJvbSAnLi4vLi4vY29jb3MyZC9jb3JlL3ZhbHVlLXR5cGVzL21hdDQnO1xyXG5cclxuY29uc3QgQmluYXJ5T2Zmc2V0ID0gZHJhZ29uQm9uZXMuQmluYXJ5T2Zmc2V0O1xyXG5jb25zdCBCb25lVHlwZSAgPSBkcmFnb25Cb25lcy5Cb25lVHlwZTtcclxuXHJcbmRyYWdvbkJvbmVzLkNDU2xvdCA9IGNjLkNsYXNzKHtcclxuICAgIG5hbWU6ICdkcmFnb25Cb25lcy5DQ1Nsb3QnLFxyXG4gICAgZXh0ZW5kczogZHJhZ29uQm9uZXMuU2xvdCxcclxuXHJcbiAgICBjdG9yICgpIHtcclxuICAgICAgICB0aGlzLl9sb2NhbFZlcnRpY2VzID0gW107XHJcbiAgICAgICAgdGhpcy5faW5kaWNlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IGNjLm1hdDQoKTtcclxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeCA9IGNjLm1hdDQoKTtcclxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjYy5jb2xvcigpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfb25DbGVhciAoKSB7XHJcbiAgICAgICAgdGhpcy5fc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9sb2NhbFZlcnRpY2VzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5faW5kaWNlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIE1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcclxuICAgICAgICBNYXQ0LmlkZW50aXR5KHRoaXMuX3dvcmxkTWF0cml4KTtcclxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9jb2xvciA9IGNjLmNvbG9yKCk7XHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGF0aWNzIDoge1xyXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIltjbGFzcyBkcmFnb25Cb25lcy5DQ1Nsb3RdXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcclxuICAgIF9vblVwZGF0ZURpc3BsYXkgKCkge1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcclxuICAgIF9pbml0RGlzcGxheSAodmFsdWUpIHtcclxuICAgIH0sXHJcblxyXG4gICAgX2FkZERpc3BsYXkgKCkge1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcclxuICAgIF9yZXBsYWNlRGlzcGxheSAodmFsdWUpIHtcclxuICAgIH0sXHJcblxyXG4gICAgX3JlbW92ZURpc3BsYXkgKCkge1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8ganVzdCBmb3IgYWRhcHQgdG8gZHJhZ29uYm9uZXMgYXBpLG5vIG5lZWQgdG8gZG8gYW55IHRoaW5nXHJcbiAgICBfZGlzcG9zZURpc3BsYXkgKG9iamVjdCkge1xyXG4gICAgfSxcclxuXHJcbiAgICBfdXBkYXRlVmlzaWJsZSAoKSB7XHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRoaXMucGFyZW50Ll92aXNpYmxlO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyBqdXN0IGZvciBhZGFwdCB0byBkcmFnb25ib25lcyBhcGksbm8gbmVlZCB0byBkbyBhbnkgdGhpbmdcclxuICAgIF91cGRhdGVaT3JkZXIgKCkge1xyXG4gICAgfSxcclxuXHJcbiAgICBfdXBkYXRlQmxlbmRNb2RlICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY2hpbGRBcm1hdHVyZSkge1xyXG4gICAgICAgICAgICBsZXQgY2hpbGRTbG90cyA9IHRoaXMuX2NoaWxkQXJtYXR1cmUuZ2V0U2xvdHMoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZFNsb3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNsb3QgPSBjaGlsZFNsb3RzW2ldO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fYmxlbmRNb2RlID0gdGhpcy5fYmxlbmRNb2RlO1xyXG4gICAgICAgICAgICAgICAgc2xvdC5fdXBkYXRlQmxlbmRNb2RlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIF91cGRhdGVDb2xvciAoKSB7XHJcbiAgICAgICAgbGV0IGMgPSB0aGlzLl9jb2xvcjtcclxuICAgICAgICBjLnIgPSB0aGlzLl9jb2xvclRyYW5zZm9ybS5yZWRNdWx0aXBsaWVyICogMjU1O1xyXG4gICAgICAgIGMuZyA9IHRoaXMuX2NvbG9yVHJhbnNmb3JtLmdyZWVuTXVsdGlwbGllciAqIDI1NTtcclxuICAgICAgICBjLmIgPSB0aGlzLl9jb2xvclRyYW5zZm9ybS5ibHVlTXVsdGlwbGllciAqIDI1NTtcclxuICAgICAgICBjLmEgPSB0aGlzLl9jb2xvclRyYW5zZm9ybS5hbHBoYU11bHRpcGxpZXIgKiAyNTU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vcmV0dXJuIGRyYWdvbkJvbmVzLkNDVGV4dHVyZTJEXHJcbiAgICBnZXRUZXh0dXJlICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZURhdGEgJiYgdGhpcy5fdGV4dHVyZURhdGEuc3ByaXRlRnJhbWUgJiYgdGhpcy5fdGV4dHVyZURhdGEuc3ByaXRlRnJhbWUuZ2V0VGV4dHVyZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfdXBkYXRlRnJhbWUgKCkge1xyXG4gICAgICAgIHRoaXMuX2luZGljZXMubGVuZ3RoID0gMDtcclxuICAgICAgICBsZXQgaW5kaWNlcyA9IHRoaXMuX2luZGljZXMsXHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXMgPSB0aGlzLl9sb2NhbFZlcnRpY2VzO1xyXG4gICAgICAgIGxldCBpbmRleE9mZnNldCA9IDAsIHZmT2Zmc2V0ID0gMDtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRUZXh0dXJlRGF0YSA9IHRoaXMuX3RleHR1cmVEYXRhO1xyXG4gICAgICAgIGlmICghdGhpcy5fZGlzcGxheSB8fCB0aGlzLl9kaXNwbGF5SW5kZXggPCAwIHx8ICFjdXJyZW50VGV4dHVyZURhdGEgfHwgIWN1cnJlbnRUZXh0dXJlRGF0YS5zcHJpdGVGcmFtZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBsZXQgdGV4dHVyZSA9IGN1cnJlbnRUZXh0dXJlRGF0YS5zcHJpdGVGcmFtZS5nZXRUZXh0dXJlKCk7XHJcbiAgICAgICAgbGV0IHRleHR1cmVBdGxhc1dpZHRoID0gdGV4dHVyZS53aWR0aDtcclxuICAgICAgICBsZXQgdGV4dHVyZUF0bGFzSGVpZ2h0ID0gdGV4dHVyZS5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IHJlZ2lvbiA9IGN1cnJlbnRUZXh0dXJlRGF0YS5yZWdpb247XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRWZXJ0aWNlc0RhdGEgPSAodGhpcy5fZGVmb3JtVmVydGljZXMgIT09IG51bGwgJiYgdGhpcy5fZGlzcGxheSA9PT0gdGhpcy5fbWVzaERpc3BsYXkpID8gdGhpcy5fZGVmb3JtVmVydGljZXMudmVydGljZXNEYXRhIDogbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoY3VycmVudFZlcnRpY2VzRGF0YSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gY3VycmVudFZlcnRpY2VzRGF0YS5kYXRhO1xyXG4gICAgICAgICAgICBjb25zdCBpbnRBcnJheSA9IGRhdGEuaW50QXJyYXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0QXJyYXkgPSBkYXRhLmZsb2F0QXJyYXk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gaW50QXJyYXlbY3VycmVudFZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFZlcnRleENvdW50XTtcclxuICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVDb3VudCA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hUcmlhbmdsZUNvdW50XTtcclxuICAgICAgICAgICAgbGV0IHZlcnRleE9mZnNldCA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hGbG9hdE9mZnNldF07XHJcblxyXG4gICAgICAgICAgICBpZiAodmVydGV4T2Zmc2V0IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IDY1NTM2OyAvLyBGaXhlZCBvdXQgb2YgYm91ZHMgYnVnLiBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdXZPZmZzZXQgPSB2ZXJ0ZXhPZmZzZXQgKyB2ZXJ0ZXhDb3VudCAqIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fYXJtYXR1cmUuX2FybWF0dXJlRGF0YS5zY2FsZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdmVydGV4Q291bnQgKiAyOyBpIDwgbDsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpXSAqIHNjYWxlO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IC1mbG9hdEFycmF5W3ZlcnRleE9mZnNldCArIGkgKyAxXSAqIHNjYWxlOyAgXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWZXJ0aWNlc0RhdGEucm90YXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAocmVnaW9uLnggKyAoMS4wIC0gZmxvYXRBcnJheVt1dk9mZnNldCArIGldKSAqIHJlZ2lvbi53aWR0aCkgLyB0ZXh0dXJlQXRsYXNXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gKHJlZ2lvbi55ICsgZmxvYXRBcnJheVt1dk9mZnNldCArIGkgKyAxXSAqIHJlZ2lvbi5oZWlnaHQpIC8gdGV4dHVyZUF0bGFzSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gKHJlZ2lvbi54ICsgZmxvYXRBcnJheVt1dk9mZnNldCArIGldICogcmVnaW9uLndpZHRoKSAvIHRleHR1cmVBdGxhc1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAocmVnaW9uLnkgKyBmbG9hdEFycmF5W3V2T2Zmc2V0ICsgaSArIDFdICogcmVnaW9uLmhlaWdodCkgLyB0ZXh0dXJlQXRsYXNIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVDb3VudCAqIDM7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgaW5kaWNlc1tpbmRleE9mZnNldCsrXSA9IGludEFycmF5W2N1cnJlbnRWZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhJbmRpY2VzICsgaV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXMubGVuZ3RoID0gdmZPZmZzZXQ7XHJcbiAgICAgICAgICAgIGluZGljZXMubGVuZ3RoID0gaW5kZXhPZmZzZXQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgaXNTa2lubmVkID0gISFjdXJyZW50VmVydGljZXNEYXRhLndlaWdodDtcclxuICAgICAgICAgICAgaWYgKGlzU2tpbm5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlUcmFuc2Zvcm0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGwgPSByZWdpb24ueCAvIHRleHR1cmVBdGxhc1dpZHRoO1xyXG4gICAgICAgICAgICBsZXQgYiA9IChyZWdpb24ueSArIHJlZ2lvbi5oZWlnaHQpIC8gdGV4dHVyZUF0bGFzSGVpZ2h0O1xyXG4gICAgICAgICAgICBsZXQgciA9IChyZWdpb24ueCArIHJlZ2lvbi53aWR0aCkgLyB0ZXh0dXJlQXRsYXNXaWR0aDtcclxuICAgICAgICAgICAgbGV0IHQgPSByZWdpb24ueSAvIHRleHR1cmVBdGxhc0hlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAwOyAvLyAweFxyXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gMDsgLy8gMHlcclxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IGw7IC8vIDB1XHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBiOyAvLyAwdlxyXG5cclxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHJlZ2lvbi53aWR0aDsgLy8gMXhcclxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IDA7IC8vIDF5XHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByOyAvLyAxdVxyXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gYjsgLy8gMXZcclxuXHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSAwOyAvLyAyeFxyXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gcmVnaW9uLmhlaWdodDs7IC8vIDJ5XHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSBsOyAvLyAydVxyXG4gICAgICAgICAgICBsb2NhbFZlcnRpY2VzW3ZmT2Zmc2V0KytdID0gdDsgLy8gMnZcclxuXHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByZWdpb24ud2lkdGg7IC8vIDN4XHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSByZWdpb24uaGVpZ2h0OzsgLy8gM3lcclxuICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1t2Zk9mZnNldCsrXSA9IHI7IC8vIDN1XHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXNbdmZPZmZzZXQrK10gPSB0OyAvLyAzdlxyXG5cclxuICAgICAgICAgICAgaW5kaWNlc1swXSA9IDA7XHJcbiAgICAgICAgICAgIGluZGljZXNbMV0gPSAxO1xyXG4gICAgICAgICAgICBpbmRpY2VzWzJdID0gMjtcclxuICAgICAgICAgICAgaW5kaWNlc1szXSA9IDE7XHJcbiAgICAgICAgICAgIGluZGljZXNbNF0gPSAzO1xyXG4gICAgICAgICAgICBpbmRpY2VzWzVdID0gMjtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsVmVydGljZXMubGVuZ3RoID0gdmZPZmZzZXQ7XHJcbiAgICAgICAgICAgIGluZGljZXMubGVuZ3RoID0gNjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3Zpc2libGVEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fYmxlbmRNb2RlRGlydHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBfdXBkYXRlTWVzaCAoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9hcm1hdHVyZS5fYXJtYXR1cmVEYXRhLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGRlZm9ybVZlcnRpY2VzID0gdGhpcy5fZGVmb3JtVmVydGljZXMudmVydGljZXM7XHJcbiAgICAgICAgY29uc3QgYm9uZXMgPSB0aGlzLl9kZWZvcm1WZXJ0aWNlcy5ib25lcztcclxuICAgICAgICBjb25zdCB2ZXJ0aWNlc0RhdGEgPSB0aGlzLl9kZWZvcm1WZXJ0aWNlcy52ZXJ0aWNlc0RhdGE7XHJcbiAgICAgICAgY29uc3Qgd2VpZ2h0RGF0YSA9IHZlcnRpY2VzRGF0YS53ZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgaGFzRGVmb3JtID0gZGVmb3JtVmVydGljZXMubGVuZ3RoID4gMCAmJiB2ZXJ0aWNlc0RhdGEuaW5oZXJpdERlZm9ybTtcclxuXHJcbiAgICAgICAgbGV0IGxvY2FsVmVydGljZXMgPSB0aGlzLl9sb2NhbFZlcnRpY2VzO1xyXG4gICAgICAgIGlmICh3ZWlnaHREYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB2ZXJ0aWNlc0RhdGEuZGF0YTtcclxuICAgICAgICAgICAgY29uc3QgaW50QXJyYXkgPSBkYXRhLmludEFycmF5O1xyXG4gICAgICAgICAgICBjb25zdCBmbG9hdEFycmF5ID0gZGF0YS5mbG9hdEFycmF5O1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IGludEFycmF5W3ZlcnRpY2VzRGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuTWVzaFZlcnRleENvdW50XTtcclxuICAgICAgICAgICAgbGV0IHdlaWdodEZsb2F0T2Zmc2V0ID0gaW50QXJyYXlbd2VpZ2h0RGF0YS5vZmZzZXQgKyBCaW5hcnlPZmZzZXQuV2VpZ3RoRmxvYXRPZmZzZXRdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHdlaWdodEZsb2F0T2Zmc2V0IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0RmxvYXRPZmZzZXQgKz0gNjU1MzY7IC8vIEZpeGVkIG91dCBvZiBib3VkcyBidWcuIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwLCBpQiA9IHdlaWdodERhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0LldlaWd0aEJvbmVJbmRpY2VzICsgYm9uZXMubGVuZ3RoLCBpViA9IHdlaWdodEZsb2F0T2Zmc2V0LCBpRiA9IDAsIGx2aSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpIDwgdmVydGV4Q291bnQ7XHJcbiAgICAgICAgICAgICAgICBpKyssIGx2aSs9NFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmVDb3VudCA9IGludEFycmF5W2lCKytdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHhHID0gMC4wLCB5RyA9IDAuMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvbmVDb3VudDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9uZUluZGV4ID0gaW50QXJyYXlbaUIrK107XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9uZSA9IGJvbmVzW2JvbmVJbmRleF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib25lICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IGJvbmUuZ2xvYmFsVHJhbnNmb3JtTWF0cml4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWlnaHQgPSBmbG9hdEFycmF5W2lWKytdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeEwgPSBmbG9hdEFycmF5W2lWKytdICogc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5TCA9IGZsb2F0QXJyYXlbaVYrK10gKiBzY2FsZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNEZWZvcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhMICs9IGRlZm9ybVZlcnRpY2VzW2lGKytdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeUwgKz0gZGVmb3JtVmVydGljZXNbaUYrK107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhHICs9IChtYXRyaXguYSAqIHhMICsgbWF0cml4LmMgKiB5TCArIG1hdHJpeC50eCkgKiB3ZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlHICs9IChtYXRyaXguYiAqIHhMICsgbWF0cml4LmQgKiB5TCArIG1hdHJpeC50eSkgKiB3ZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpXSA9IHhHO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmkgKyAxXSA9IC15RztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChoYXNEZWZvcm0pIHtcclxuICAgICAgICAgICAgY29uc3QgaXNTdXJmYWNlID0gdGhpcy5fcGFyZW50Ll9ib25lRGF0YS50eXBlICE9PSBCb25lVHlwZS5Cb25lO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdmVydGljZXNEYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIGNvbnN0IGludEFycmF5ID0gZGF0YS5pbnRBcnJheTtcclxuICAgICAgICAgICAgY29uc3QgZmxvYXRBcnJheSA9IGRhdGEuZmxvYXRBcnJheTtcclxuICAgICAgICAgICAgY29uc3QgdmVydGV4Q291bnQgPSBpbnRBcnJheVt2ZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hWZXJ0ZXhDb3VudF07XHJcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXhPZmZzZXQgPSBpbnRBcnJheVt2ZXJ0aWNlc0RhdGEub2Zmc2V0ICsgQmluYXJ5T2Zmc2V0Lk1lc2hGbG9hdE9mZnNldF07XHJcblxyXG4gICAgICAgICAgICBpZiAodmVydGV4T2Zmc2V0IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdmVydGV4T2Zmc2V0ICs9IDY1NTM2OyAvLyBGaXhlZCBvdXQgb2YgYm91ZHMgYnVnLiBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB2ZXJ0ZXhDb3VudCwgbHZpID0gMDsgaSA8IGw7IGkgKyssIGx2aSArPSA0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZmxvYXRBcnJheVt2ZXJ0ZXhPZmZzZXQgKyBpKjJdICogc2NhbGUgKyBkZWZvcm1WZXJ0aWNlc1tpKjJdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IGZsb2F0QXJyYXlbdmVydGV4T2Zmc2V0ICsgaSoyICsgMV0gKiBzY2FsZSArIGRlZm9ybVZlcnRpY2VzW2kqMiArIDFdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc1N1cmZhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLl9wYXJlbnQuX2dldEdsb2JhbFRyYW5zZm9ybU1hdHJpeCh4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW2x2aV0gPSBtYXRyaXguYSAqIHggKyBtYXRyaXguYyAqIHkgKyBtYXRyaXgudHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxWZXJ0aWNlc1tsdmkgKyAxXSA9IC1tYXRyaXguYiAqIHggKyBtYXRyaXguZCAqIHkgKyBtYXRyaXgudHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFZlcnRpY2VzW2x2aV0gPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsVmVydGljZXNbbHZpICsgMV0gPSAteTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdlaWdodERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlUcmFuc2Zvcm0oKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIF9pZGVudGl0eVRyYW5zZm9ybSgpIHtcclxuICAgICAgICBsZXQgbSA9IHRoaXMuX21hdHJpeC5tO1xyXG4gICAgICAgIG1bMF0gPSAxLjA7XHJcbiAgICAgICAgbVsxXSA9IDAuMDtcclxuICAgICAgICBtWzRdID0gLTAuMDtcclxuICAgICAgICBtWzVdID0gLTEuMDtcclxuICAgICAgICBtWzEyXSA9IDAuMDtcclxuICAgICAgICBtWzEzXSA9IDAuMDtcclxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgX3VwZGF0ZVRyYW5zZm9ybSAoKSB7XHJcbiAgICAgICAgbGV0IHQgPSB0aGlzLl9tYXRyaXg7XHJcbiAgICAgICAgbGV0IHRtID0gdC5tO1xyXG4gICAgICAgIHRtWzBdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYTtcclxuICAgICAgICB0bVsxXSA9IHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmI7XHJcbiAgICAgICAgdG1bNF0gPSAtdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYztcclxuICAgICAgICB0bVs1XSA9IC10aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5kO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY2hpbGRBcm1hdHVyZSkge1xyXG4gICAgICAgICAgICB0bVsxMl0gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eDtcclxuICAgICAgICAgICAgdG1bMTNdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXgudHk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG1bMTJdID0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXgudHggLSAodGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguYSAqIHRoaXMuX3Bpdm90WCAtIHRoaXMuZ2xvYmFsVHJhbnNmb3JtTWF0cml4LmMgKiB0aGlzLl9waXZvdFkpO1xyXG4gICAgICAgICAgICB0bVsxM10gPSB0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC50eSAtICh0aGlzLmdsb2JhbFRyYW5zZm9ybU1hdHJpeC5iICogdGhpcy5fcGl2b3RYIC0gdGhpcy5nbG9iYWxUcmFuc2Zvcm1NYXRyaXguZCAqIHRoaXMuX3Bpdm90WSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3dvcmxkTWF0cml4RGlydHkgPSB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGVXb3JsZE1hdHJpeCAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9hcm1hdHVyZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgcGFyZW50U2xvdCA9IHRoaXMuX2FybWF0dXJlLl9wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudFNsb3QpIHtcclxuICAgICAgICAgICAgcGFyZW50U2xvdC51cGRhdGVXb3JsZE1hdHJpeCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3dvcmxkTWF0cml4RGlydHkpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxXb3JsZE1hdHJpeCgpO1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRBcm1hdHVyZSA9IHRoaXMuY2hpbGRBcm1hdHVyZTtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZEFybWF0dXJlKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzbG90cyA9IGNoaWxkQXJtYXR1cmUuZ2V0U2xvdHMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsbiA9IHNsb3RzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsb3QgPSBzbG90c1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdC5fd29ybGRNYXRyaXhEaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIF9tdWxNYXQgKG91dCwgYSwgYikge1xyXG4gICAgICAgIGxldCBhbSA9IGEubSwgYm0gPSBiLm0sIG91dG0gPSBvdXQubTtcclxuICAgICAgICBsZXQgYWE9YW1bMF0sIGFiPWFtWzFdLCBhYz1hbVs0XSwgYWQ9YW1bNV0sIGF0eD1hbVsxMl0sIGF0eT1hbVsxM107XHJcbiAgICAgICAgbGV0IGJhPWJtWzBdLCBiYj1ibVsxXSwgYmM9Ym1bNF0sIGJkPWJtWzVdLCBidHg9Ym1bMTJdLCBidHk9Ym1bMTNdO1xyXG4gICAgICAgIGlmIChhYiAhPT0gMCB8fCBhYyAhPT0gMCkge1xyXG4gICAgICAgICAgICBvdXRtWzBdID0gYmEgKiBhYSArIGJiICogYWM7XHJcbiAgICAgICAgICAgIG91dG1bMV0gPSBiYSAqIGFiICsgYmIgKiBhZDtcclxuICAgICAgICAgICAgb3V0bVs0XSA9IGJjICogYWEgKyBiZCAqIGFjO1xyXG4gICAgICAgICAgICBvdXRtWzVdID0gYmMgKiBhYiArIGJkICogYWQ7XHJcbiAgICAgICAgICAgIG91dG1bMTJdID0gYWEgKiBidHggKyBhYyAqIGJ0eSArIGF0eDtcclxuICAgICAgICAgICAgb3V0bVsxM10gPSBhYiAqIGJ0eCArIGFkICogYnR5ICsgYXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0bVswXSA9IGJhICogYWE7XHJcbiAgICAgICAgICAgIG91dG1bMV0gPSBiYiAqIGFkO1xyXG4gICAgICAgICAgICBvdXRtWzRdID0gYmMgKiBhYTtcclxuICAgICAgICAgICAgb3V0bVs1XSA9IGJkICogYWQ7XHJcbiAgICAgICAgICAgIG91dG1bMTJdID0gYWEgKiBidHggKyBhdHg7XHJcbiAgICAgICAgICAgIG91dG1bMTNdID0gYWQgKiBidHkgKyBhdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBjYWxjdWxXb3JsZE1hdHJpeCAoKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuX2FybWF0dXJlLl9wYXJlbnQ7XHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tdWxNYXQodGhpcy5fd29ybGRNYXRyaXggLHBhcmVudC5fd29ybGRNYXRyaXgsIHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTWF0NC5jb3B5KHRoaXMuX3dvcmxkTWF0cml4LCB0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl93b3JsZE1hdHJpeERpcnR5ID0gZmFsc2U7XHJcbiAgICB9XHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6Ii8ifQ==