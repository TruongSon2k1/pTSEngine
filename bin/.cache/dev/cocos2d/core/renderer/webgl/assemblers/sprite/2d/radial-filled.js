
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/core/renderer/webgl/assemblers/sprite/2d/radial-filled.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

exports.__esModule = true;
exports["default"] = void 0;

var _assembler2d = _interopRequireDefault(require("../../../../assembler-2d"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var PI_2 = Math.PI * 2;
var _vertPos = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];
var _vertices = [0, 0, 0, 0];
var _uvs = [0, 0, 0, 0, 0, 0, 0, 0];
var _intersectPoint_1 = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];
var _intersectPoint_2 = [cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0), cc.v2(0, 0)];

var _center = cc.v2(0, 0);

var _triangles = [];

function _calcInsectedPoints(left, right, bottom, top, center, angle, intersectPoints) {
  //left bottom, right, top
  var sinAngle = Math.sin(angle);
  var cosAngle = Math.cos(angle);
  var tanAngle, cotAngle;

  if (Math.cos(angle) !== 0) {
    tanAngle = sinAngle / cosAngle; //calculate right and left

    if ((left - center.x) * cosAngle > 0) {
      var yleft = center.y + tanAngle * (left - center.x);
      intersectPoints[0].x = left;
      intersectPoints[0].y = yleft;
    }

    if ((right - center.x) * cosAngle > 0) {
      var yright = center.y + tanAngle * (right - center.x);
      intersectPoints[2].x = right;
      intersectPoints[2].y = yright;
    }
  }

  if (Math.sin(angle) !== 0) {
    cotAngle = cosAngle / sinAngle; //calculate  top and bottom

    if ((top - center.y) * sinAngle > 0) {
      var xtop = center.x + cotAngle * (top - center.y);
      intersectPoints[3].x = xtop;
      intersectPoints[3].y = top;
    }

    if ((bottom - center.y) * sinAngle > 0) {
      var xbottom = center.x + cotAngle * (bottom - center.y);
      intersectPoints[1].x = xbottom;
      intersectPoints[1].y = bottom;
    }
  }
}

function _calculateVertices(sprite) {
  var node = sprite.node,
      width = node.width,
      height = node.height,
      appx = node.anchorX * width,
      appy = node.anchorY * height;
  var l = -appx,
      b = -appy,
      r = width - appx,
      t = height - appy;
  var vertices = _vertices;
  vertices[0] = l;
  vertices[1] = b;
  vertices[2] = r;
  vertices[3] = t;
  var fillCenter = sprite._fillCenter,
      cx = _center.x = Math.min(Math.max(0, fillCenter.x), 1) * (r - l) + l,
      cy = _center.y = Math.min(Math.max(0, fillCenter.y), 1) * (t - b) + b;
  _vertPos[0].x = _vertPos[3].x = l;
  _vertPos[1].x = _vertPos[2].x = r;
  _vertPos[0].y = _vertPos[1].y = b;
  _vertPos[2].y = _vertPos[3].y = t;
  _triangles.length = 0;

  if (cx !== vertices[0]) {
    _triangles[0] = [3, 0];
  }

  if (cx !== vertices[2]) {
    _triangles[2] = [1, 2];
  }

  if (cy !== vertices[1]) {
    _triangles[1] = [0, 1];
  }

  if (cy !== vertices[3]) {
    _triangles[3] = [2, 3];
  }
}

function _calculateUVs(spriteFrame) {
  var atlasWidth = spriteFrame._texture.width;
  var atlasHeight = spriteFrame._texture.height;
  var textureRect = spriteFrame._rect;
  var u0, u1, v0, v1;
  var uvs = _uvs;

  if (spriteFrame._rotated) {
    u0 = textureRect.x / atlasWidth;
    u1 = (textureRect.x + textureRect.height) / atlasWidth;
    v0 = textureRect.y / atlasHeight;
    v1 = (textureRect.y + textureRect.width) / atlasHeight;
    uvs[0] = uvs[2] = u0;
    uvs[4] = uvs[6] = u1;
    uvs[3] = uvs[7] = v1;
    uvs[1] = uvs[5] = v0;
  } else {
    u0 = textureRect.x / atlasWidth;
    u1 = (textureRect.x + textureRect.width) / atlasWidth;
    v0 = textureRect.y / atlasHeight;
    v1 = (textureRect.y + textureRect.height) / atlasHeight;
    uvs[0] = uvs[4] = u0;
    uvs[2] = uvs[6] = u1;
    uvs[1] = uvs[3] = v1;
    uvs[5] = uvs[7] = v0;
  }
}

function _getVertAngle(start, end) {
  var placementX, placementY;
  placementX = end.x - start.x;
  placementY = end.y - start.y;

  if (placementX === 0 && placementY === 0) {
    return undefined;
  } else if (placementX === 0) {
    if (placementY > 0) {
      return Math.PI * 0.5;
    } else {
      return Math.PI * 1.5;
    }
  } else {
    var angle = Math.atan(placementY / placementX);

    if (placementX < 0) {
      angle += Math.PI;
    }

    return angle;
  }
}

var RadialFilledAssembler = /*#__PURE__*/function (_Assembler2D) {
  _inheritsLoose(RadialFilledAssembler, _Assembler2D);

  function RadialFilledAssembler() {
    return _Assembler2D.apply(this, arguments) || this;
  }

  var _proto = RadialFilledAssembler.prototype;

  _proto.initData = function initData(sprite) {
    this._renderData.createFlexData(0, 4, 6, this.getVfmt());

    this.updateIndices();
  };

  _proto.updateRenderData = function updateRenderData(sprite) {
    _Assembler2D.prototype.updateRenderData.call(this, sprite);

    var frame = sprite.spriteFrame;
    this.packToDynamicAtlas(sprite, frame);

    if (sprite._vertsDirty) {
      var fillStart = sprite._fillStart;
      var fillRange = sprite._fillRange;

      if (fillRange < 0) {
        fillStart += fillRange;
        fillRange = -fillRange;
      } //do round fill start [0,1), include 0, exclude 1


      while (fillStart >= 1.0) {
        fillStart -= 1.0;
      }

      while (fillStart < 0.0) {
        fillStart += 1.0;
      }

      fillStart *= PI_2;
      fillRange *= PI_2; //build vertices

      _calculateVertices(sprite); //build uvs


      _calculateUVs(frame);

      _calcInsectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart, _intersectPoint_1);

      _calcInsectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart + fillRange, _intersectPoint_2);

      this.updateVerts(sprite, fillStart, fillRange);
      sprite._vertsDirty = false;
    }
  };

  _proto.updateVerts = function updateVerts(sprite, fillStart, fillRange) {
    var fillEnd = fillStart + fillRange;
    var local = this._local;
    local.length = 0;
    var offset = 0;
    var floatsPerTriangle = 3 * this.floatsPerVert;

    for (var triangleIndex = 0; triangleIndex < 4; ++triangleIndex) {
      var triangle = _triangles[triangleIndex];

      if (!triangle) {
        continue;
      } //all in


      if (fillRange >= PI_2) {
        local.length = offset + floatsPerTriangle;

        this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _vertPos[triangle[1]]);

        offset += floatsPerTriangle;
        continue;
      } //test against


      var startAngle = _getVertAngle(_center, _vertPos[triangle[0]]);

      var endAngle = _getVertAngle(_center, _vertPos[triangle[1]]);

      if (endAngle < startAngle) endAngle += PI_2;
      startAngle -= PI_2;
      endAngle -= PI_2; //testing

      for (var testIndex = 0; testIndex < 3; ++testIndex) {
        if (startAngle >= fillEnd) {//all out
        } else if (startAngle >= fillStart) {
          local.length = offset + floatsPerTriangle;

          if (endAngle >= fillEnd) {
            //startAngle to fillEnd
            this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _intersectPoint_2[triangleIndex]);
          } else {
            //startAngle to endAngle
            this._generateTriangle(local, offset, _center, _vertPos[triangle[0]], _vertPos[triangle[1]]);
          }

          offset += floatsPerTriangle;
        } else {
          //startAngle < fillStart
          if (endAngle <= fillStart) {//all out
          } else if (endAngle <= fillEnd) {
            local.length = offset + floatsPerTriangle; //fillStart to endAngle

            this._generateTriangle(local, offset, _center, _intersectPoint_1[triangleIndex], _vertPos[triangle[1]]);

            offset += floatsPerTriangle;
          } else {
            local.length = offset + floatsPerTriangle; //fillStart to fillEnd

            this._generateTriangle(local, offset, _center, _intersectPoint_1[triangleIndex], _intersectPoint_2[triangleIndex]);

            offset += floatsPerTriangle;
          }
        } //add 2 * PI


        startAngle += PI_2;
        endAngle += PI_2;
      }
    }

    this.allocWorldVerts(sprite);
    this.updateWorldVerts(sprite);
  };

  _proto.allocWorldVerts = function allocWorldVerts(sprite) {
    var color = sprite.node._color._val;
    var renderData = this._renderData;
    var floatsPerVert = this.floatsPerVert;
    var local = this._local;
    var verticesCount = local.length / floatsPerVert;
    this.verticesCount = this.indicesCount = verticesCount;
    var flexBuffer = renderData._flexBuffer;

    if (flexBuffer.reserve(verticesCount, verticesCount)) {
      this.updateIndices();
    }

    flexBuffer.used(this.verticesCount, this.indicesCount);
    var verts = renderData.vDatas[0],
        uintVerts = renderData.uintVDatas[0];
    var uvOffset = this.uvOffset;

    for (var offset = 0; offset < local.length; offset += floatsPerVert) {
      var start = offset + uvOffset;
      verts[start] = local[start];
      verts[start + 1] = local[start + 1];
      uintVerts[start + 2] = color;
    }
  };

  _proto.updateIndices = function updateIndices() {
    var iData = this._renderData.iDatas[0];

    for (var i = 0; i < iData.length; i++) {
      iData[i] = i;
    }
  };

  _proto.updateWorldVerts = function updateWorldVerts(sprite) {
    var node = sprite.node;
    var matrix = node._worldMatrix;
    var matrixm = matrix.m,
        a = matrixm[0],
        b = matrixm[1],
        c = matrixm[4],
        d = matrixm[5],
        tx = matrixm[12],
        ty = matrixm[13];
    var local = this._local;
    var world = this._renderData.vDatas[0];
    var floatsPerVert = this.floatsPerVert;

    for (var offset = 0; offset < local.length; offset += floatsPerVert) {
      var x = local[offset];
      var y = local[offset + 1];
      world[offset] = x * a + y * c + tx;
      world[offset + 1] = x * b + y * d + ty;
    }
  };

  _proto._generateTriangle = function _generateTriangle(verts, offset, vert0, vert1, vert2) {
    var vertices = _vertices;
    var v0x = vertices[0];
    var v0y = vertices[1];
    var v1x = vertices[2];
    var v1y = vertices[3];
    var floatsPerVert = this.floatsPerVert;
    verts[offset] = vert0.x;
    verts[offset + 1] = vert0.y;
    verts[offset + floatsPerVert] = vert1.x;
    verts[offset + floatsPerVert + 1] = vert1.y;
    verts[offset + floatsPerVert * 2] = vert2.x;
    verts[offset + floatsPerVert * 2 + 1] = vert2.y;
    var uvOffset = this.uvOffset;
    var progressX, progressY;
    progressX = (vert0.x - v0x) / (v1x - v0x);
    progressY = (vert0.y - v0y) / (v1y - v0y);

    this._generateUV(progressX, progressY, verts, offset + uvOffset);

    progressX = (vert1.x - v0x) / (v1x - v0x);
    progressY = (vert1.y - v0y) / (v1y - v0y);

    this._generateUV(progressX, progressY, verts, offset + floatsPerVert + uvOffset);

    progressX = (vert2.x - v0x) / (v1x - v0x);
    progressY = (vert2.y - v0y) / (v1y - v0y);

    this._generateUV(progressX, progressY, verts, offset + floatsPerVert * 2 + uvOffset);
  };

  _proto._generateUV = function _generateUV(progressX, progressY, verts, offset) {
    var uvs = _uvs;
    var px1 = uvs[0] + (uvs[2] - uvs[0]) * progressX;
    var px2 = uvs[4] + (uvs[6] - uvs[4]) * progressX;
    var py1 = uvs[1] + (uvs[3] - uvs[1]) * progressX;
    var py2 = uvs[5] + (uvs[7] - uvs[5]) * progressX;
    verts[offset] = px1 + (px2 - px1) * progressY;
    verts[offset + 1] = py1 + (py2 - py1) * progressY;
  };

  return RadialFilledAssembler;
}(_assembler2d["default"]);

exports["default"] = RadialFilledAssembler;
module.exports = exports["default"];
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXZcXGNvY29zMmRcXGNvcmVcXHJlbmRlcmVyXFx3ZWJnbFxcYXNzZW1ibGVyc1xcc3ByaXRlXFwyZFxccmFkaWFsLWZpbGxlZC5qcyJdLCJuYW1lcyI6WyJQSV8yIiwiTWF0aCIsIlBJIiwiX3ZlcnRQb3MiLCJjYyIsInYyIiwiX3ZlcnRpY2VzIiwiX3V2cyIsIl9pbnRlcnNlY3RQb2ludF8xIiwiX2ludGVyc2VjdFBvaW50XzIiLCJfY2VudGVyIiwiX3RyaWFuZ2xlcyIsIl9jYWxjSW5zZWN0ZWRQb2ludHMiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ0b3AiLCJjZW50ZXIiLCJhbmdsZSIsImludGVyc2VjdFBvaW50cyIsInNpbkFuZ2xlIiwic2luIiwiY29zQW5nbGUiLCJjb3MiLCJ0YW5BbmdsZSIsImNvdEFuZ2xlIiwieCIsInlsZWZ0IiwieSIsInlyaWdodCIsInh0b3AiLCJ4Ym90dG9tIiwiX2NhbGN1bGF0ZVZlcnRpY2VzIiwic3ByaXRlIiwibm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiYXBweCIsImFuY2hvclgiLCJhcHB5IiwiYW5jaG9yWSIsImwiLCJiIiwiciIsInQiLCJ2ZXJ0aWNlcyIsImZpbGxDZW50ZXIiLCJfZmlsbENlbnRlciIsImN4IiwibWluIiwibWF4IiwiY3kiLCJsZW5ndGgiLCJfY2FsY3VsYXRlVVZzIiwic3ByaXRlRnJhbWUiLCJhdGxhc1dpZHRoIiwiX3RleHR1cmUiLCJhdGxhc0hlaWdodCIsInRleHR1cmVSZWN0IiwiX3JlY3QiLCJ1MCIsInUxIiwidjAiLCJ2MSIsInV2cyIsIl9yb3RhdGVkIiwiX2dldFZlcnRBbmdsZSIsInN0YXJ0IiwiZW5kIiwicGxhY2VtZW50WCIsInBsYWNlbWVudFkiLCJ1bmRlZmluZWQiLCJhdGFuIiwiUmFkaWFsRmlsbGVkQXNzZW1ibGVyIiwiaW5pdERhdGEiLCJfcmVuZGVyRGF0YSIsImNyZWF0ZUZsZXhEYXRhIiwiZ2V0VmZtdCIsInVwZGF0ZUluZGljZXMiLCJ1cGRhdGVSZW5kZXJEYXRhIiwiZnJhbWUiLCJwYWNrVG9EeW5hbWljQXRsYXMiLCJfdmVydHNEaXJ0eSIsImZpbGxTdGFydCIsIl9maWxsU3RhcnQiLCJmaWxsUmFuZ2UiLCJfZmlsbFJhbmdlIiwidXBkYXRlVmVydHMiLCJmaWxsRW5kIiwibG9jYWwiLCJfbG9jYWwiLCJvZmZzZXQiLCJmbG9hdHNQZXJUcmlhbmdsZSIsImZsb2F0c1BlclZlcnQiLCJ0cmlhbmdsZUluZGV4IiwidHJpYW5nbGUiLCJfZ2VuZXJhdGVUcmlhbmdsZSIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsInRlc3RJbmRleCIsImFsbG9jV29ybGRWZXJ0cyIsInVwZGF0ZVdvcmxkVmVydHMiLCJjb2xvciIsIl9jb2xvciIsIl92YWwiLCJyZW5kZXJEYXRhIiwidmVydGljZXNDb3VudCIsImluZGljZXNDb3VudCIsImZsZXhCdWZmZXIiLCJfZmxleEJ1ZmZlciIsInJlc2VydmUiLCJ1c2VkIiwidmVydHMiLCJ2RGF0YXMiLCJ1aW50VmVydHMiLCJ1aW50VkRhdGFzIiwidXZPZmZzZXQiLCJpRGF0YSIsImlEYXRhcyIsImkiLCJtYXRyaXgiLCJfd29ybGRNYXRyaXgiLCJtYXRyaXhtIiwibSIsImEiLCJjIiwiZCIsInR4IiwidHkiLCJ3b3JsZCIsInZlcnQwIiwidmVydDEiLCJ2ZXJ0MiIsInYweCIsInYweSIsInYxeCIsInYxeSIsInByb2dyZXNzWCIsInByb2dyZXNzWSIsIl9nZW5lcmF0ZVVWIiwicHgxIiwicHgyIiwicHkxIiwicHkyIiwiQXNzZW1ibGVyMkQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5QkE7Ozs7Ozs7O0FBRUEsSUFBTUEsSUFBSSxHQUFHQyxJQUFJLENBQUNDLEVBQUwsR0FBVSxDQUF2QjtBQUVBLElBQUlDLFFBQVEsR0FBRyxDQUFDQyxFQUFFLENBQUNDLEVBQUgsQ0FBTSxDQUFOLEVBQVMsQ0FBVCxDQUFELEVBQWNELEVBQUUsQ0FBQ0MsRUFBSCxDQUFNLENBQU4sRUFBUyxDQUFULENBQWQsRUFB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QUFDLENBQUQsQ0FBSCxHQUFTQSxHQUFHLENBQUMsQ0FBRCxDQUFiLElBQW9CeUUsU0FBdkM7QUFDQSxRQUFJTSxHQUFHLEdBQUcvRSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVMsQ0FBQ0EsR0FBRyxDQUFDLENBQUQsQ0FBSCxHQUFTQSxHQUFHLENBQUMsQ0FBRCxDQUFiLElBQW9CeUUsU0FBdkM7QUFDQXpCLElBQUFBLEtBQUssQ0FBQ3JCLE1BQUQsQ0FBTCxHQUFnQmlELEdBQUcsR0FBRyxDQUFDQyxHQUFHLEdBQUdELEdBQVAsSUFBY0YsU0FBcEM7QUFDQTFCLElBQUFBLEtBQUssQ0FBQ3JCLE1BQU0sR0FBRyxDQUFWLENBQUwsR0FBb0JtRCxHQUFHLEdBQUcsQ0FBQ0MsR0FBRyxHQUFHRCxHQUFQLElBQWNKLFNBQXhDO0FBQ0g7OztFQXRNOENNIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cclxuXHJcbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcclxuIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcclxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXHJcbiBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXHJcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cclxuXHJcbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxyXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgQXNzZW1ibGVyMkQgZnJvbSAnLi4vLi4vLi4vLi4vYXNzZW1ibGVyLTJkJztcclxuXHJcbmNvbnN0IFBJXzIgPSBNYXRoLlBJICogMjtcclxuXHJcbmxldCBfdmVydFBvcyA9IFtjYy52MigwLCAwKSwgY2MudjIoMCwgMCksIGNjLnYyKDAsIDApLCBjYy52MigwLCAwKV07XHJcbmxldCBfdmVydGljZXMgPSBbMCwgMCwgMCwgMF07XHJcbmxldCBfdXZzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xyXG5sZXQgX2ludGVyc2VjdFBvaW50XzEgPSBbY2MudjIoMCwgMCksIGNjLnYyKDAsIDApLCBjYy52MigwLCAwKSwgY2MudjIoMCwgMCldO1xyXG5sZXQgX2ludGVyc2VjdFBvaW50XzIgPSBbY2MudjIoMCwgMCksIGNjLnYyKDAsIDApLCBjYy52MigwLCAwKSwgY2MudjIoMCwgMCldO1xyXG5sZXQgX2NlbnRlciA9IGNjLnYyKDAsIDApO1xyXG5sZXQgX3RyaWFuZ2xlcyA9IFtdO1xyXG5cclxuZnVuY3Rpb24gX2NhbGNJbnNlY3RlZFBvaW50cyAobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBjZW50ZXIsIGFuZ2xlLCBpbnRlcnNlY3RQb2ludHMpIHtcclxuICAgIC8vbGVmdCBib3R0b20sIHJpZ2h0LCB0b3BcclxuICAgIGxldCBzaW5BbmdsZSA9IE1hdGguc2luKGFuZ2xlKTtcclxuICAgIGxldCBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKTtcclxuICAgIGxldCB0YW5BbmdsZSwgY290QW5nbGU7XHJcbiAgICBpZiAoTWF0aC5jb3MoYW5nbGUpICE9PSAwKSB7XHJcbiAgICAgICAgdGFuQW5nbGUgPSBzaW5BbmdsZSAvIGNvc0FuZ2xlO1xyXG4gICAgICAgIC8vY2FsY3VsYXRlIHJpZ2h0IGFuZCBsZWZ0XHJcbiAgICAgICAgaWYgKChsZWZ0IC0gY2VudGVyLngpICogY29zQW5nbGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCB5bGVmdCA9IGNlbnRlci55ICsgdGFuQW5nbGUgKiAobGVmdCAtIGNlbnRlci54KTtcclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzBdLnggPSBsZWZ0O1xyXG4gICAgICAgICAgICBpbnRlcnNlY3RQb2ludHNbMF0ueSA9IHlsZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHJpZ2h0IC0gY2VudGVyLngpICogY29zQW5nbGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCB5cmlnaHQgPSBjZW50ZXIueSArIHRhbkFuZ2xlICogKHJpZ2h0IC0gY2VudGVyLngpO1xyXG5cclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzJdLnggPSByaWdodDtcclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzJdLnkgPSB5cmlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoTWF0aC5zaW4oYW5nbGUpICE9PSAwKSB7XHJcbiAgICAgICAgY290QW5nbGUgPSBjb3NBbmdsZSAvIHNpbkFuZ2xlO1xyXG4gICAgICAgIC8vY2FsY3VsYXRlICB0b3AgYW5kIGJvdHRvbVxyXG4gICAgICAgIGlmICgodG9wIC0gY2VudGVyLnkpICogc2luQW5nbGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCB4dG9wID0gY2VudGVyLnggKyBjb3RBbmdsZSAqICh0b3AgLSBjZW50ZXIueSk7XHJcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1szXS54ID0geHRvcDtcclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzNdLnkgPSB0b3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoYm90dG9tIC0gY2VudGVyLnkpICogc2luQW5nbGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCB4Ym90dG9tID0gY2VudGVyLnggKyBjb3RBbmdsZSAqIChib3R0b20gLSBjZW50ZXIueSk7XHJcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1sxXS54ID0geGJvdHRvbTtcclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzFdLnkgPSBib3R0b207XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZVZlcnRpY2VzIChzcHJpdGUpIHtcclxuICAgIGxldCBub2RlID0gc3ByaXRlLm5vZGUsXHJcbiAgICAgICAgd2lkdGggPSBub2RlLndpZHRoLCBoZWlnaHQgPSBub2RlLmhlaWdodCxcclxuICAgICAgICBhcHB4ID0gbm9kZS5hbmNob3JYICogd2lkdGgsIGFwcHkgPSBub2RlLmFuY2hvclkgKiBoZWlnaHQ7XHJcblxyXG4gICAgbGV0IGwgPSAtYXBweCwgYiA9IC1hcHB5LFxyXG4gICAgICAgIHIgPSB3aWR0aCAtIGFwcHgsIHQgPSBoZWlnaHQgLSBhcHB5O1xyXG5cclxuICAgIGxldCB2ZXJ0aWNlcyA9IF92ZXJ0aWNlcztcclxuICAgIHZlcnRpY2VzWzBdID0gbDtcclxuICAgIHZlcnRpY2VzWzFdID0gYjtcclxuICAgIHZlcnRpY2VzWzJdID0gcjtcclxuICAgIHZlcnRpY2VzWzNdID0gdDtcclxuXHJcbiAgICBsZXQgZmlsbENlbnRlciA9IHNwcml0ZS5fZmlsbENlbnRlcixcclxuICAgICAgICBjeCA9IF9jZW50ZXIueCA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZpbGxDZW50ZXIueCksIDEpICogKHIgLSBsKSArIGwsXHJcbiAgICAgICAgY3kgPSBfY2VudGVyLnkgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmaWxsQ2VudGVyLnkpLCAxKSAqICh0IC0gYikgKyBiO1xyXG5cclxuICAgIF92ZXJ0UG9zWzBdLnggPSBfdmVydFBvc1szXS54ID0gbDtcclxuICAgIF92ZXJ0UG9zWzFdLnggPSBfdmVydFBvc1syXS54ID0gcjtcclxuICAgIF92ZXJ0UG9zWzBdLnkgPSBfdmVydFBvc1sxXS55ID0gYjtcclxuICAgIF92ZXJ0UG9zWzJdLnkgPSBfdmVydFBvc1szXS55ID0gdDtcclxuXHJcbiAgICBfdHJpYW5nbGVzLmxlbmd0aCA9IDA7XHJcbiAgICBpZiAoY3ggIT09IHZlcnRpY2VzWzBdKSB7XHJcbiAgICAgICAgX3RyaWFuZ2xlc1swXSA9IFszLCAwXTtcclxuICAgIH1cclxuICAgIGlmIChjeCAhPT0gdmVydGljZXNbMl0pIHtcclxuICAgICAgICBfdHJpYW5nbGVzWzJdID0gWzEsIDJdO1xyXG4gICAgfVxyXG4gICAgaWYgKGN5ICE9PSB2ZXJ0aWNlc1sxXSkge1xyXG4gICAgICAgIF90cmlhbmdsZXNbMV0gPSBbMCwgMV07XHJcbiAgICB9XHJcbiAgICBpZiAoY3kgIT09IHZlcnRpY2VzWzNdKSB7XHJcbiAgICAgICAgX3RyaWFuZ2xlc1szXSA9IFsyLCAzXTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZVVWcyAoc3ByaXRlRnJhbWUpIHtcclxuICAgIGxldCBhdGxhc1dpZHRoID0gc3ByaXRlRnJhbWUuX3RleHR1cmUud2lkdGg7XHJcbiAgICBsZXQgYXRsYXNIZWlnaHQgPSBzcHJpdGVGcmFtZS5fdGV4dHVyZS5oZWlnaHQ7XHJcbiAgICBsZXQgdGV4dHVyZVJlY3QgPSBzcHJpdGVGcmFtZS5fcmVjdDtcclxuXHJcbiAgICBsZXQgdTAsIHUxLCB2MCwgdjE7XHJcbiAgICBsZXQgdXZzID0gX3V2cztcclxuXHJcbiAgICBpZiAoc3ByaXRlRnJhbWUuX3JvdGF0ZWQpIHtcclxuICAgICAgICB1MCA9ICh0ZXh0dXJlUmVjdC54KSAvIGF0bGFzV2lkdGg7XHJcbiAgICAgICAgdTEgPSAodGV4dHVyZVJlY3QueCArIHRleHR1cmVSZWN0LmhlaWdodCkgLyBhdGxhc1dpZHRoO1xyXG5cclxuICAgICAgICB2MCA9ICh0ZXh0dXJlUmVjdC55KSAvIGF0bGFzSGVpZ2h0O1xyXG4gICAgICAgIHYxID0gKHRleHR1cmVSZWN0LnkgKyB0ZXh0dXJlUmVjdC53aWR0aCkgLyBhdGxhc0hlaWdodDtcclxuXHJcbiAgICAgICAgdXZzWzBdID0gdXZzWzJdID0gdTA7XHJcbiAgICAgICAgdXZzWzRdID0gdXZzWzZdID0gdTE7XHJcbiAgICAgICAgdXZzWzNdID0gdXZzWzddID0gdjE7XHJcbiAgICAgICAgdXZzWzFdID0gdXZzWzVdID0gdjA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1MCA9ICh0ZXh0dXJlUmVjdC54KSAvIGF0bGFzV2lkdGg7XHJcbiAgICAgICAgdTEgPSAodGV4dHVyZVJlY3QueCArIHRleHR1cmVSZWN0LndpZHRoKSAvIGF0bGFzV2lkdGg7XHJcblxyXG4gICAgICAgIHYwID0gKHRleHR1cmVSZWN0LnkpIC8gYXRsYXNIZWlnaHQ7XHJcbiAgICAgICAgdjEgPSAodGV4dHVyZVJlY3QueSArIHRleHR1cmVSZWN0LmhlaWdodCkgLyBhdGxhc0hlaWdodDtcclxuXHJcbiAgICAgICAgdXZzWzBdID0gdXZzWzRdID0gdTA7XHJcbiAgICAgICAgdXZzWzJdID0gdXZzWzZdID0gdTE7XHJcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdjE7XHJcbiAgICAgICAgdXZzWzVdID0gdXZzWzddID0gdjA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZXRWZXJ0QW5nbGUgKHN0YXJ0LCBlbmQpIHtcclxuICAgIGxldCBwbGFjZW1lbnRYLCBwbGFjZW1lbnRZO1xyXG4gICAgcGxhY2VtZW50WCA9IGVuZC54IC0gc3RhcnQueDtcclxuICAgIHBsYWNlbWVudFkgPSBlbmQueSAtIHN0YXJ0Lnk7XHJcblxyXG4gICAgaWYgKHBsYWNlbWVudFggPT09IDAgJiYgcGxhY2VtZW50WSA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9IGVsc2UgaWYgKHBsYWNlbWVudFggPT09IDApIHtcclxuICAgICAgICBpZiAocGxhY2VtZW50WSA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgKiAwLjU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgKiAxLjU7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4ocGxhY2VtZW50WSAvIHBsYWNlbWVudFgpO1xyXG4gICAgICAgIGlmIChwbGFjZW1lbnRYIDwgMCkge1xyXG4gICAgICAgICAgICBhbmdsZSArPSBNYXRoLlBJO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFuZ2xlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYWRpYWxGaWxsZWRBc3NlbWJsZXIgZXh0ZW5kcyBBc3NlbWJsZXIyRCB7XHJcbiAgICBpbml0RGF0YSAoc3ByaXRlKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyRGF0YS5jcmVhdGVGbGV4RGF0YSgwLCA0LCA2LCB0aGlzLmdldFZmbXQoKSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVJbmRpY2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVuZGVyRGF0YSAoc3ByaXRlKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlUmVuZGVyRGF0YShzcHJpdGUpO1xyXG5cclxuICAgICAgICBsZXQgZnJhbWUgPSBzcHJpdGUuc3ByaXRlRnJhbWU7XHJcbiAgICAgICAgdGhpcy5wYWNrVG9EeW5hbWljQXRsYXMoc3ByaXRlLCBmcmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChzcHJpdGUuX3ZlcnRzRGlydHkpIHtcclxuICAgICAgICAgICAgbGV0IGZpbGxTdGFydCA9IHNwcml0ZS5fZmlsbFN0YXJ0O1xyXG4gICAgICAgICAgICBsZXQgZmlsbFJhbmdlID0gc3ByaXRlLl9maWxsUmFuZ2U7XHJcbiAgICAgICAgICAgIGlmIChmaWxsUmFuZ2UgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsU3RhcnQgKz0gZmlsbFJhbmdlO1xyXG4gICAgICAgICAgICAgICAgZmlsbFJhbmdlID0gLWZpbGxSYW5nZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9kbyByb3VuZCBmaWxsIHN0YXJ0IFswLDEpLCBpbmNsdWRlIDAsIGV4Y2x1ZGUgMVxyXG4gICAgICAgICAgICB3aGlsZSAoZmlsbFN0YXJ0ID49IDEuMCkgZmlsbFN0YXJ0IC09IDEuMDtcclxuICAgICAgICAgICAgd2hpbGUgKGZpbGxTdGFydCA8IDAuMCkgZmlsbFN0YXJ0ICs9IDEuMDtcclxuXHJcbiAgICAgICAgICAgIGZpbGxTdGFydCAqPSBQSV8yO1xyXG4gICAgICAgICAgICBmaWxsUmFuZ2UgKj0gUElfMjtcclxuXHJcbiAgICAgICAgICAgIC8vYnVpbGQgdmVydGljZXNcclxuICAgICAgICAgICAgX2NhbGN1bGF0ZVZlcnRpY2VzKHNwcml0ZSk7XHJcbiAgICAgICAgICAgIC8vYnVpbGQgdXZzXHJcbiAgICAgICAgICAgIF9jYWxjdWxhdGVVVnMoZnJhbWUpO1xyXG5cclxuICAgICAgICAgICAgX2NhbGNJbnNlY3RlZFBvaW50cyhfdmVydGljZXNbMF0sIF92ZXJ0aWNlc1syXSwgX3ZlcnRpY2VzWzFdLCBfdmVydGljZXNbM10sIF9jZW50ZXIsIGZpbGxTdGFydCwgX2ludGVyc2VjdFBvaW50XzEpO1xyXG4gICAgICAgICAgICBfY2FsY0luc2VjdGVkUG9pbnRzKF92ZXJ0aWNlc1swXSwgX3ZlcnRpY2VzWzJdLCBfdmVydGljZXNbMV0sIF92ZXJ0aWNlc1szXSwgX2NlbnRlciwgZmlsbFN0YXJ0ICsgZmlsbFJhbmdlLCBfaW50ZXJzZWN0UG9pbnRfMik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRzKHNwcml0ZSwgZmlsbFN0YXJ0LCBmaWxsUmFuZ2UpO1xyXG5cclxuICAgICAgICAgICAgc3ByaXRlLl92ZXJ0c0RpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZlcnRzIChzcHJpdGUsIGZpbGxTdGFydCwgZmlsbFJhbmdlKSB7XHJcbiAgICAgICAgbGV0IGZpbGxFbmQgPSBmaWxsU3RhcnQgKyBmaWxsUmFuZ2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fbG9jYWw7XHJcbiAgICAgICAgbG9jYWwubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgbGV0IGZsb2F0c1BlclRyaWFuZ2xlID0gMyAqIHRoaXMuZmxvYXRzUGVyVmVydDtcclxuICAgICAgICBmb3IgKGxldCB0cmlhbmdsZUluZGV4ID0gMDsgdHJpYW5nbGVJbmRleCA8IDQ7ICsrdHJpYW5nbGVJbmRleCkge1xyXG4gICAgICAgICAgICBsZXQgdHJpYW5nbGUgPSBfdHJpYW5nbGVzW3RyaWFuZ2xlSW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoIXRyaWFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2FsbCBpblxyXG4gICAgICAgICAgICBpZiAoZmlsbFJhbmdlID49IFBJXzIpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsLmxlbmd0aCA9IG9mZnNldCArIGZsb2F0c1BlclRyaWFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVUcmlhbmdsZShsb2NhbCwgb2Zmc2V0LCBfY2VudGVyLCBfdmVydFBvc1t0cmlhbmdsZVswXV0sIF92ZXJ0UG9zW3RyaWFuZ2xlWzFdXSk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmxvYXRzUGVyVHJpYW5nbGU7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3Rlc3QgYWdhaW5zdFxyXG4gICAgICAgICAgICBsZXQgc3RhcnRBbmdsZSA9IF9nZXRWZXJ0QW5nbGUoX2NlbnRlciwgX3ZlcnRQb3NbdHJpYW5nbGVbMF1dKTtcclxuICAgICAgICAgICAgbGV0IGVuZEFuZ2xlID0gX2dldFZlcnRBbmdsZShfY2VudGVyLCBfdmVydFBvc1t0cmlhbmdsZVsxXV0pO1xyXG4gICAgICAgICAgICBpZiAoZW5kQW5nbGUgPCBzdGFydEFuZ2xlKSBlbmRBbmdsZSArPSBQSV8yO1xyXG4gICAgICAgICAgICBzdGFydEFuZ2xlIC09IFBJXzI7XHJcbiAgICAgICAgICAgIGVuZEFuZ2xlIC09IFBJXzI7XHJcbiAgICAgICAgICAgIC8vdGVzdGluZ1xyXG4gICAgICAgICAgICBmb3IgKGxldCB0ZXN0SW5kZXggPSAwOyB0ZXN0SW5kZXggPCAzOyArK3Rlc3RJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPj0gZmlsbEVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWxsIG91dFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydEFuZ2xlID49IGZpbGxTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsLmxlbmd0aCA9IG9mZnNldCArIGZsb2F0c1BlclRyaWFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRBbmdsZSA+PSBmaWxsRW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RhcnRBbmdsZSB0byBmaWxsRW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlVHJpYW5nbGUobG9jYWwsIG9mZnNldCwgX2NlbnRlciwgX3ZlcnRQb3NbdHJpYW5nbGVbMF1dLCBfaW50ZXJzZWN0UG9pbnRfMlt0cmlhbmdsZUluZGV4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdGFydEFuZ2xlIHRvIGVuZEFuZ2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlVHJpYW5nbGUobG9jYWwsIG9mZnNldCwgX2NlbnRlciwgX3ZlcnRQb3NbdHJpYW5nbGVbMF1dLCBfdmVydFBvc1t0cmlhbmdsZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmxvYXRzUGVyVHJpYW5nbGU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc3RhcnRBbmdsZSA8IGZpbGxTdGFydFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRBbmdsZSA8PSBmaWxsU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGwgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRBbmdsZSA8PSBmaWxsRW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsLmxlbmd0aCA9IG9mZnNldCArIGZsb2F0c1BlclRyaWFuZ2xlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbGxTdGFydCB0byBlbmRBbmdsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZW5lcmF0ZVRyaWFuZ2xlKGxvY2FsLCBvZmZzZXQsIF9jZW50ZXIsIF9pbnRlcnNlY3RQb2ludF8xW3RyaWFuZ2xlSW5kZXhdLCBfdmVydFBvc1t0cmlhbmdsZVsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmxvYXRzUGVyVHJpYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwubGVuZ3RoID0gb2Zmc2V0ICsgZmxvYXRzUGVyVHJpYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsbFN0YXJ0IHRvIGZpbGxFbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVUcmlhbmdsZShsb2NhbCwgb2Zmc2V0LCBfY2VudGVyLCBfaW50ZXJzZWN0UG9pbnRfMVt0cmlhbmdsZUluZGV4XSwgX2ludGVyc2VjdFBvaW50XzJbdHJpYW5nbGVJbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmxvYXRzUGVyVHJpYW5nbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9hZGQgMiAqIFBJXHJcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XHJcbiAgICAgICAgICAgICAgICBlbmRBbmdsZSArPSBQSV8yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFsbG9jV29ybGRWZXJ0cyhzcHJpdGUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlV29ybGRWZXJ0cyhzcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGFsbG9jV29ybGRWZXJ0cyhzcHJpdGUpIHtcclxuICAgICAgICBsZXQgY29sb3IgPSBzcHJpdGUubm9kZS5fY29sb3IuX3ZhbDtcclxuICAgICAgICBsZXQgcmVuZGVyRGF0YSA9IHRoaXMuX3JlbmRlckRhdGE7XHJcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XHJcblxyXG4gICAgICAgIGxldCBsb2NhbCA9IHRoaXMuX2xvY2FsO1xyXG4gICAgICAgIGxldCB2ZXJ0aWNlc0NvdW50ID0gbG9jYWwubGVuZ3RoIC8gZmxvYXRzUGVyVmVydDtcclxuICAgICAgICB0aGlzLnZlcnRpY2VzQ291bnQgPSB0aGlzLmluZGljZXNDb3VudCA9IHZlcnRpY2VzQ291bnQ7XHJcblxyXG4gICAgICAgIGxldCBmbGV4QnVmZmVyID0gcmVuZGVyRGF0YS5fZmxleEJ1ZmZlcjtcclxuICAgICAgICBpZiAoZmxleEJ1ZmZlci5yZXNlcnZlKHZlcnRpY2VzQ291bnQsIHZlcnRpY2VzQ291bnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5kaWNlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmbGV4QnVmZmVyLnVzZWQodGhpcy52ZXJ0aWNlc0NvdW50LCB0aGlzLmluZGljZXNDb3VudCk7XHJcblxyXG4gICAgICAgIGxldCB2ZXJ0cyA9IHJlbmRlckRhdGEudkRhdGFzWzBdLFxyXG4gICAgICAgICAgICB1aW50VmVydHMgPSByZW5kZXJEYXRhLnVpbnRWRGF0YXNbMF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHV2T2Zmc2V0ID0gdGhpcy51dk9mZnNldDtcclxuICAgICAgICBmb3IgKGxldCBvZmZzZXQgPSAwOyBvZmZzZXQgPCBsb2NhbC5sZW5ndGg7IG9mZnNldCArPSBmbG9hdHNQZXJWZXJ0KSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG9mZnNldCArIHV2T2Zmc2V0O1xyXG4gICAgICAgICAgICB2ZXJ0c1tzdGFydF0gPSBsb2NhbFtzdGFydF07XHJcbiAgICAgICAgICAgIHZlcnRzW3N0YXJ0ICsgMV0gPSBsb2NhbFtzdGFydCArIDFdO1xyXG4gICAgICAgICAgICB1aW50VmVydHNbc3RhcnQgKyAyXSA9IGNvbG9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVJbmRpY2VzICgpIHtcclxuICAgICAgICBsZXQgaURhdGEgPSB0aGlzLl9yZW5kZXJEYXRhLmlEYXRhc1swXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlEYXRhLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICBpRGF0YVtpXSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVdvcmxkVmVydHMgKHNwcml0ZSkge1xyXG4gICAgICAgIGxldCBub2RlID0gc3ByaXRlLm5vZGU7XHJcblxyXG4gICAgICAgIGxldCBtYXRyaXggPSBub2RlLl93b3JsZE1hdHJpeDtcclxuICAgICAgICBsZXQgbWF0cml4bSA9IG1hdHJpeC5tLFxyXG4gICAgICAgICAgICBhID0gbWF0cml4bVswXSwgYiA9IG1hdHJpeG1bMV0sIGMgPSBtYXRyaXhtWzRdLCBkID0gbWF0cml4bVs1XSxcclxuICAgICAgICAgICAgdHggPSBtYXRyaXhtWzEyXSwgdHkgPSBtYXRyaXhtWzEzXTtcclxuXHJcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5fbG9jYWw7XHJcbiAgICAgICAgbGV0IHdvcmxkID0gdGhpcy5fcmVuZGVyRGF0YS52RGF0YXNbMF07XHJcbiAgICAgICAgbGV0IGZsb2F0c1BlclZlcnQgPSB0aGlzLmZsb2F0c1BlclZlcnQ7XHJcbiAgICAgICAgZm9yIChsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbG9jYWwubGVuZ3RoOyBvZmZzZXQgKz0gZmxvYXRzUGVyVmVydCkge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGxvY2FsW29mZnNldF07XHJcbiAgICAgICAgICAgIGxldCB5ID0gbG9jYWxbb2Zmc2V0ICsgMV07XHJcbiAgICAgICAgICAgIHdvcmxkW29mZnNldF0gPSB4ICogYSArIHkgKiBjICsgdHg7XHJcbiAgICAgICAgICAgIHdvcmxkW29mZnNldCsxXSA9IHggKiBiICsgeSAqIGQgKyB0eTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2dlbmVyYXRlVHJpYW5nbGUgKHZlcnRzLCBvZmZzZXQsIHZlcnQwLCB2ZXJ0MSwgdmVydDIpIHtcclxuICAgICAgICBsZXQgdmVydGljZXMgPSBfdmVydGljZXM7XHJcbiAgICAgICAgbGV0IHYweCA9IHZlcnRpY2VzWzBdO1xyXG4gICAgICAgIGxldCB2MHkgPSB2ZXJ0aWNlc1sxXTtcclxuICAgICAgICBsZXQgdjF4ID0gdmVydGljZXNbMl07XHJcbiAgICAgICAgbGV0IHYxeSA9IHZlcnRpY2VzWzNdO1xyXG5cclxuICAgICAgICBsZXQgZmxvYXRzUGVyVmVydCA9IHRoaXMuZmxvYXRzUGVyVmVydDtcclxuICAgICAgICB2ZXJ0c1tvZmZzZXRdID0gdmVydDAueDtcclxuICAgICAgICB2ZXJ0c1tvZmZzZXQgKyAxXSA9IHZlcnQwLnk7XHJcbiAgICAgICAgdmVydHNbb2Zmc2V0ICsgZmxvYXRzUGVyVmVydF0gPSB2ZXJ0MS54O1xyXG4gICAgICAgIHZlcnRzW29mZnNldCArIGZsb2F0c1BlclZlcnQgKyAxXSA9IHZlcnQxLnk7XHJcbiAgICAgICAgdmVydHNbb2Zmc2V0ICsgZmxvYXRzUGVyVmVydCoyXSA9IHZlcnQyLng7XHJcbiAgICAgICAgdmVydHNbb2Zmc2V0ICsgZmxvYXRzUGVyVmVydCoyICsgMV0gPSB2ZXJ0Mi55O1xyXG5cclxuICAgICAgICBsZXQgdXZPZmZzZXQgPSB0aGlzLnV2T2Zmc2V0O1xyXG4gICAgICAgIGxldCBwcm9ncmVzc1gsIHByb2dyZXNzWTtcclxuICAgICAgICBwcm9ncmVzc1ggPSAodmVydDAueCAtIHYweCkgLyAodjF4IC0gdjB4KTtcclxuICAgICAgICBwcm9ncmVzc1kgPSAodmVydDAueSAtIHYweSkgLyAodjF5IC0gdjB5KTtcclxuICAgICAgICB0aGlzLl9nZW5lcmF0ZVVWKHByb2dyZXNzWCwgcHJvZ3Jlc3NZLCB2ZXJ0cywgb2Zmc2V0ICsgdXZPZmZzZXQpO1xyXG5cclxuICAgICAgICBwcm9ncmVzc1ggPSAodmVydDEueCAtIHYweCkgLyAodjF4IC0gdjB4KTtcclxuICAgICAgICBwcm9ncmVzc1kgPSAodmVydDEueSAtIHYweSkgLyAodjF5IC0gdjB5KTtcclxuICAgICAgICB0aGlzLl9nZW5lcmF0ZVVWKHByb2dyZXNzWCwgcHJvZ3Jlc3NZLCB2ZXJ0cywgb2Zmc2V0ICsgZmxvYXRzUGVyVmVydCArIHV2T2Zmc2V0KTtcclxuXHJcbiAgICAgICAgcHJvZ3Jlc3NYID0gKHZlcnQyLnggLSB2MHgpIC8gKHYxeCAtIHYweCk7XHJcbiAgICAgICAgcHJvZ3Jlc3NZID0gKHZlcnQyLnkgLSB2MHkpIC8gKHYxeSAtIHYweSk7XHJcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVVVihwcm9ncmVzc1gsIHByb2dyZXNzWSwgdmVydHMsIG9mZnNldCArIGZsb2F0c1BlclZlcnQqMiArIHV2T2Zmc2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2VuZXJhdGVVViAocHJvZ3Jlc3NYLCBwcm9ncmVzc1ksIHZlcnRzLCBvZmZzZXQpIHtcclxuICAgICAgICBsZXQgdXZzID0gX3V2cztcclxuICAgICAgICBsZXQgcHgxID0gdXZzWzBdICsgKHV2c1syXSAtIHV2c1swXSkgKiBwcm9ncmVzc1g7XHJcbiAgICAgICAgbGV0IHB4MiA9IHV2c1s0XSArICh1dnNbNl0gLSB1dnNbNF0pICogcHJvZ3Jlc3NYO1xyXG4gICAgICAgIGxldCBweTEgPSB1dnNbMV0gKyAodXZzWzNdIC0gdXZzWzFdKSAqIHByb2dyZXNzWDtcclxuICAgICAgICBsZXQgcHkyID0gdXZzWzVdICsgKHV2c1s3XSAtIHV2c1s1XSkgKiBwcm9ncmVzc1g7XHJcbiAgICAgICAgdmVydHNbb2Zmc2V0XSA9IHB4MSArIChweDIgLSBweDEpICogcHJvZ3Jlc3NZO1xyXG4gICAgICAgIHZlcnRzW29mZnNldCArIDFdID0gcHkxICsgKHB5MiAtIHB5MSkgKiBwcm9ncmVzc1k7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIvIn0=