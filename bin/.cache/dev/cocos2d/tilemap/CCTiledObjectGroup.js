
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/tilemap/CCTiledObjectGroup.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

/****************************************************************************
 Copyright (c) 2016 Chukong Technologies Inc.
 Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.

 https://www.cocos.com/

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated engine source code (the "Software"), a limited,
 worldwide, royalty-free, non-assignable, revocable and non-exclusive license
 to use Cocos Creator solely to develop games on your target platforms. You shall
 not use Cocos Creator software for developing other software or tools that's
 used for developing games. You are not granted to publish, distribute,
 sublicense, and/or sell copies of Cocos Creator.

 The software or tools in this License Agreement are licensed, not sold.
 Xiamen Yaji Software Co., Ltd. reserves all rights not expressly granted to you.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************************************/

/**
 * !#en Renders the TMX object group.
 * !#zh 渲染 tmx object group。
 * @class TiledObjectGroup
 * @extends Component
 */
var TiledObjectGroup = cc.Class({
  name: 'cc.TiledObjectGroup',
  // Inherits from the abstract class directly,
  // because TiledLayer not create or maintains the sgNode by itself.
  "extends": cc.Component,

  /**
   * !#en Offset position of child objects.
   * !#zh 获取子对象的偏移位置。
   * @method getPositionOffset
   * @return {Vec2}
   * @example
   * let offset = tMXObjectGroup.getPositionOffset();
   */
  getPositionOffset: function getPositionOffset() {
    return this._positionOffset;
  },

  /**
   * !#en List of properties stored in a dictionary.
   * !#zh 以映射的形式获取属性列表。
   * @method getProperties
   * @return {Object}
   * @example
   * let offset = tMXObjectGroup.getProperties();
   */
  getProperties: function getProperties() {
    this._properties;
  },

  /**
   * !#en Gets the Group name.
   * !#zh 获取组名称。
   * @method getGroupName
   * @return {String}
   * @example
   * let groupName = tMXObjectGroup.getGroupName;
   */
  getGroupName: function getGroupName() {
    return this._groupName;
  },

  /**
   * Return the value for the specific property name
   * @param {String} propertyName
   * @return {Object}
   */
  getProperty: function getProperty(propertyName) {
    return this._properties[propertyName.toString()];
  },

  /**
   * !#en
   * Return the object for the specific object name. <br />
   * It will return the 1st object found on the array for the given name.
   * !#zh 获取指定的对象。
   * @method getObject
   * @param {String} objectName
   * @return {Object|Null}
   * @example
   * let object = tMXObjectGroup.getObject("Group");
   */
  getObject: function getObject(objectName) {
    for (var i = 0, len = this._objects.length; i < len; i++) {
      var obj = this._objects[i];

      if (obj && obj.name === objectName) {
        return obj;
      }
    } // object not found


    return null;
  },

  /**
   * !#en Gets the objects.
   * !#zh 获取对象数组。
   * @method getObjects
   * @return {Array}
   * @example
   * let objects = tMXObjectGroup.getObjects();
   */
  getObjects: function getObjects() {
    return this._objects;
  },
  _init: function _init(groupInfo, mapInfo, texGrids) {
    var TiledMap = cc.TiledMap;
    var TMXObjectType = TiledMap.TMXObjectType;
    var Orientation = TiledMap.Orientation;
    var StaggerAxis = TiledMap.StaggerAxis;
    var TileFlag = TiledMap.TileFlag;
    var FLIPPED_MASK = TileFlag.FLIPPED_MASK;
    var FLAG_HORIZONTAL = TileFlag.HORIZONTAL;
    var FLAG_VERTICAL = TileFlag.VERTICAL;
    this._groupName = groupInfo.name;
    this._positionOffset = groupInfo.offset;
    this._mapInfo = mapInfo;
    this._properties = groupInfo.getProperties();
    this._offset = cc.v2(groupInfo.offset.x, -groupInfo.offset.y);
    this._opacity = groupInfo._opacity;
    var mapSize = mapInfo._mapSize;
    var tileSize = mapInfo._tileSize;
    var width = 0,
        height = 0;

    if (mapInfo.orientation === Orientation.HEX) {
      if (mapInfo.getStaggerAxis() === StaggerAxis.STAGGERAXIS_X) {
        height = tileSize.height * (mapSize.height + 0.5);
        width = (tileSize.width + mapInfo.getHexSideLength()) * Math.floor(mapSize.width / 2) + tileSize.width * (mapSize.width % 2);
      } else {
        width = tileSize.width * (mapSize.width + 0.5);
        height = (tileSize.height + mapInfo.getHexSideLength()) * Math.floor(mapSize.height / 2) + tileSize.height * (mapSize.height % 2);
      }
    } else if (mapInfo.orientation === Orientation.ISO) {
      var wh = mapSize.width + mapSize.height;
      width = tileSize.width * 0.5 * wh;
      height = tileSize.height * 0.5 * wh;
    } else {
      width = mapSize.width * tileSize.width;
      height = mapSize.height * tileSize.height;
    }

    this.node.setContentSize(width, height);
    var leftTopX = width * this.node.anchorX;
    var leftTopY = height * (1 - this.node.anchorY);
    var objects = groupInfo._objects;
    var aliveNodes = {};

    for (var i = 0, l = objects.length; i < l; i++) {
      var object = objects[i];
      var objType = object.type;
      object.offset = cc.v2(object.x, object.y);
      var points = object.points || object.polylinePoints;

      if (points) {
        for (var pi = 0; pi < points.length; pi++) {
          points[pi].y *= -1;
        }
      }

      if (Orientation.ISO !== mapInfo.orientation) {
        object.y = height - object.y;
      } else {
        var posIdxX = object.x / tileSize.height;
        var posIdxY = object.y / tileSize.height;
        object.x = tileSize.width * 0.5 * (mapSize.height + posIdxX - posIdxY);
        object.y = tileSize.height * 0.5 * (mapSize.width + mapSize.height - posIdxX - posIdxY);
      }

      if (objType === TMXObjectType.TEXT) {
        var textName = "text" + object.id;
        aliveNodes[textName] = true;
        var textNode = this.node.getChildByName(textName);

        if (!textNode) {
          textNode = new cc.Node();
        }

        textNode.active = object.visible;
        textNode.anchorX = 0;
        textNode.anchorY = 1;
        textNode.angle = -object.rotation;
        textNode.x = object.x - leftTopX;
        textNode.y = object.y - leftTopY;
        textNode.name = textName;
        textNode.parent = this.node;
        textNode.color = object.color;
        textNode.opacity = this._opacity;
        textNode.setSiblingIndex(i);
        var label = textNode.getComponent(cc.Label);

        if (!label) {
          label = textNode.addComponent(cc.Label);
        }

        label.overflow = cc.Label.Overflow.SHRINK;
        label.lineHeight = object.height;
        label.string = object.text;
        label.horizontalAlign = object.halign;
        label.verticalAlign = object.valign;
        label.fontSize = object.pixelsize;
        textNode.width = object.width;
        textNode.height = object.height;
      }

      if (objType === TMXObjectType.IMAGE) {
        var gid = object.gid;
        var grid = texGrids[(gid & FLIPPED_MASK) >>> 0];
        if (!grid) continue;
        var tileset = grid.tileset;
        var imgName = "img" + object.id;
        aliveNodes[imgName] = true;
        var imgNode = this.node.getChildByName(imgName);
        var imgWidth = object.width || grid.width;
        var imgHeight = object.height || grid.height;
        var tileOffsetX = tileset.tileOffset.x;
        var tileOffsetY = tileset.tileOffset.y; // Delete image nodes implemented as private nodes
        // Use cc.Node to implement node-level requirements

        if (imgNode instanceof cc.PrivateNode) {
          imgNode.removeFromParent();
          imgNode.destroy();
          imgNode = null;
        }

        if (!imgNode) {
          imgNode = new cc.Node();
        }

        if (Orientation.ISO == mapInfo.orientation) {
          imgNode.anchorX = 0.5 + tileOffsetX / imgWidth;
          imgNode.anchorY = tileOffsetY / imgHeight;
        } else {
          imgNode.anchorX = tileOffsetX / imgWidth;
          imgNode.anchorY = tileOffsetY / imgHeight;
        }

        imgNode.active = object.visible;
        imgNode.angle = -object.rotation;
        imgNode.x = object.x - leftTopX;
        imgNode.y = object.y - leftTopY;
        imgNode.name = imgName;
        imgNode.parent = this.node;
        imgNode.opacity = this._opacity;
        imgNode.setSiblingIndex(i);
        var sp = imgNode.getComponent(cc.Sprite);

        if (!sp) {
          sp = imgNode.addComponent(cc.Sprite);
        }

        var spf = sp.spriteFrame;

        if (!spf) {
          spf = new cc.SpriteFrame();
        }

        if ((gid & FLAG_HORIZONTAL) >>> 0) {
          spf.setFlipX(true);
        } else {
          spf.setFlipX(false);
        }

        if ((gid & FLAG_VERTICAL) >>> 0) {
          spf.setFlipY(true);
        } else {
          spf.setFlipY(false);
        }

        spf.setTexture(grid.tileset.sourceImage, cc.rect(grid));
        sp.spriteFrame = spf;
        sp.setVertsDirty(); // object group may has no width or height info

        imgNode.width = imgWidth;
        imgNode.height = imgHeight;
      }
    }

    this._objects = objects; // destroy useless node

    var children = this.node.children;
    var uselessExp = /^(?:img|text)\d+$/;

    for (var _i = 0, n = children.length; _i < n; _i++) {
      var c = children[_i];
      var cName = c._name;
      var isUseless = uselessExp.test(cName);
      if (isUseless && !aliveNodes[cName]) c.destroy();
    }
  }
});
cc.TiledObjectGroup = module.exports = TiledObjectGroup;
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXZcXGNvY29zMmRcXHRpbGVtYXBcXENDVGlsZWRPYmplY3RHcm91cC5qcyJdLCJuYW1lcyI6WyJUaWxlZE9iamVjdEdyb3VwIiwiY2MiLCJDbGFzcyIsIm5hbWUiLCJDb21wb25lbnQiLCJnZXRQb3NpdGlvbk9mZnNldCIsIl9wb3NpdGlvbk9mZnNldCIsImdldFByb3BlcnRpZXMiLCJfcHJvcGVydGllcyIsImdldEdyb3VwTmFtZSIsIl9ncm91cE5hbWUiLCJnZXRQcm9wZXJ0eSIsInByb3BlcnR5TmFtZSIsInRvU3RyaW5nIiwiZ2V0T2JqZWN0Iiwib2JqZWN0TmFtZSIsImkiLCJsZW4iLCJfb2JqZWN0cyIsImxlbmd0aCIsIm9iaiIsImdldE9iamVjdHMiLCJfaW5pdCIsImdyb3VwSW5mbyIsIm1hcEluZm8iLCJ0ZXhHcmlkcyIsIlRpbGVkTWFwIiwiVE1YT2JqZWN0VHlwZSIsIk9yaWVudGF0aW9uIiwiU3RhZ2dlckF4aXMiLCJUaWxlRmxhZyIsIkZMSVBQRURfTUFTSyIsIkZMQUdfSE9SSVpPTlRBTCIsIkhPUklaT05UQUwiLCJGTEFHX1ZFUlRJQ0FMIiwiVkVSVElDQUwiLCJvZmZzZXQiLCJfbWFwSW5mbyIsIl9vZmZzZXQiLCJ2MiIsIngiLCJ5IiwiX29wYWNpdHkiLCJtYXBTaXplIiwiX21hcFNpemUiLCJ0aWxlU2l6ZSIsIl90aWxlU2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwib3JpZW50YXRpb24iLCJIRVgiLCJnZXRTdGFnZ2VyQXhpcyIsIlNUQUdHRVJBWElTX1giLCJnZXRIZXhTaWRlTGVuZ3RoIiwiTWF0aCIsImZsb29yIiwiSVNPIiwid2giLCJub2RlIiwic2V0Q29udGVudFNpemUiLCJsZWZ0VG9wWCIsImFuY2hvclgiLCJsZWZ0VG9wWSIsImFuY2hvclkiLCJvYmplY3RzIiwiYWxpdmVOb2RlcyIsImwiLCJvYmplY3QiLCJvYmpUeXBlIiwidHlwZSIsInBvaW50cyIsInBvbHlsaW5lUG9pbnRzIiwicGkiLCJwb3NJZHhYIiwicG9zSWR4WSIsIlRFWFQiLCJ0ZXh0TmFtZSIsImlkIiwidGV4dE5vZGUiLCJnZXRDaGlsZEJ5TmFtZSIsIk5vZGUiLCJhY3RpdmUiLCJ2aXNpYmxlIiwiYW5nbGUiLCJyb3RhdGlvbiIsInBhcmVudCIsImNvbG9yIiwib3BhY2l0eSIsInNldFNpYmxpbmdJbmRleCIsImxhYmVsIiwiZ2V0Q29tcG9uZW50IiwiTGFiZWwiLCJhZGRDb21wb25lbnQiLCJvdmVyZmxvdyIsIk92ZXJmbG93IiwiU0hSSU5LIiwibGluZUhlaWdodCIsInN0cmluZyIsInRleHQiLCJob3Jpem9udGFsQWxpZ24iLCJoYWxpZ24iLCJ2ZXJ0aWNhbEFsaWduIiwidmFsaWduIiwiZm9udFNpemUiLCJwaXhlbHNpemUiLCJJTUFHRSIsImdpZCIsImdyaWQiLCJ0aWxlc2V0IiwiaW1nTmFtZSIsImltZ05vZGUiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsInRpbGVPZmZzZXRYIiwidGlsZU9mZnNldCIsInRpbGVPZmZzZXRZIiwiUHJpdmF0ZU5vZGUiLCJyZW1vdmVGcm9tUGFyZW50IiwiZGVzdHJveSIsInNwIiwiU3ByaXRlIiwic3BmIiwic3ByaXRlRnJhbWUiLCJTcHJpdGVGcmFtZSIsInNldEZsaXBYIiwic2V0RmxpcFkiLCJzZXRUZXh0dXJlIiwic291cmNlSW1hZ2UiLCJyZWN0Iiwic2V0VmVydHNEaXJ0eSIsImNoaWxkcmVuIiwidXNlbGVzc0V4cCIsIm4iLCJjIiwiY05hbWUiLCJfbmFtZSIsImlzVXNlbGVzcyIsInRlc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSUEsZ0JBQWdCLEdB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QUgsQ0FBUXJCLElBQVIsQ0FBekM7QUFDQVksUUFBQUEsRUFBRSxDQUFDRyxXQUFILEdBQWlCRCxHQUFqQjtBQUNBRixRQUFBQSxFQUFFLENBQUNVLGFBQUgsR0FoRWlDLENBa0VqQzs7QUFDQW5CLFFBQUFBLE9BQU8sQ0FBQy9ELEtBQVIsR0FBZ0JnRSxRQUFoQjtBQUNBRCxRQUFBQSxPQUFPLENBQUM5RCxNQUFSLEdBQWlCZ0UsU0FBakI7QUFDSDtBQUNKOztBQUNELFNBQUs5RixRQUFMLEdBQWdCOEMsT0FBaEIsQ0E1S2lDLENBOEtqQzs7QUFDQSxRQUFJa0UsUUFBUSxHQUFHLEtBQUt4RSxJQUFMLENBQVV3RSxRQUF6QjtBQUNBLFFBQUlDLFVBQVUsR0FBRyxtQkFBakI7O0FBQ0EsU0FBSyxJQUFJbkgsRUFBQyxHQUFHLENBQVIsRUFBV29ILENBQUMsR0FBR0YsUUFBUSxDQUFDL0csTUFBN0IsRUFBcUNILEVBQUMsR0FBR29ILENBQXpDLEVBQTRDcEgsRUFBQyxFQUE3QyxFQUFpRDtBQUM3QyxVQUFJcUgsQ0FBQyxHQUFHSCxRQUFRLENBQUNsSCxFQUFELENBQWhCO0FBQ0EsVUFBSXNILEtBQUssR0FBR0QsQ0FBQyxDQUFDRSxLQUFkO0FBQ0EsVUFBSUMsU0FBUyxHQUFHTCxVQUFVLENBQUNNLElBQVgsQ0FBZ0JILEtBQWhCLENBQWhCO0FBQ0EsVUFBSUUsU0FBUyxJQUFJLENBQUN2RSxVQUFVLENBQUNxRSxLQUFELENBQTVCLEVBQXFDRCxDQUFDLENBQUNmLE9BQUY7QUFDeEM7QUFDSjtBQTdRMkIsQ0FBVCxDQUF2QjtBQWdSQXJILEVBQUUsQ0FBQ0QsZ0JBQUgsR0FBc0IwSSxNQUFNLENBQUNDLE9BQVAsR0FBaUIzSSxnQkFBdkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gQ29weXJpZ2h0IChjKSAyMDE2IENodWtvbmcgVGVjaG5vbG9naWVzIEluYy5cclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHBzOi8vd3d3LmNvY29zLmNvbS9cclxuXHJcbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcclxuIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcclxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXHJcbiBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXHJcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cclxuXHJcbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxyXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8qKlxyXG4gKiAhI2VuIFJlbmRlcnMgdGhlIFRNWCBvYmplY3QgZ3JvdXAuXHJcbiAqICEjemgg5riy5p+TIHRteCBvYmplY3QgZ3JvdXDjgIJcclxuICogQGNsYXNzIFRpbGVkT2JqZWN0R3JvdXBcclxuICogQGV4dGVuZHMgQ29tcG9uZW50XHJcbiAqL1xyXG5sZXQgVGlsZWRPYmplY3RHcm91cCA9IGNjLkNsYXNzKHtcclxuICAgIG5hbWU6ICdjYy5UaWxlZE9iamVjdEdyb3VwJyxcclxuXHJcbiAgICAvLyBJbmhlcml0cyBmcm9tIHRoZSBhYnN0cmFjdCBjbGFzcyBkaXJlY3RseSxcclxuICAgIC8vIGJlY2F1c2UgVGlsZWRMYXllciBub3QgY3JlYXRlIG9yIG1haW50YWlucyB0aGUgc2dOb2RlIGJ5IGl0c2VsZi5cclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICAvKipcclxuICAgICAqICEjZW4gT2Zmc2V0IHBvc2l0aW9uIG9mIGNoaWxkIG9iamVjdHMuXHJcbiAgICAgKiAhI3poIOiOt+WPluWtkOWvueixoeeahOWBj+enu+S9jee9ruOAglxyXG4gICAgICogQG1ldGhvZCBnZXRQb3NpdGlvbk9mZnNldFxyXG4gICAgICogQHJldHVybiB7VmVjMn1cclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBsZXQgb2Zmc2V0ID0gdE1YT2JqZWN0R3JvdXAuZ2V0UG9zaXRpb25PZmZzZXQoKTtcclxuICAgICAqL1xyXG4gICAgZ2V0UG9zaXRpb25PZmZzZXQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbk9mZnNldDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAhI2VuIExpc3Qgb2YgcHJvcGVydGllcyBzdG9yZWQgaW4gYSBkaWN0aW9uYXJ5LlxyXG4gICAgICogISN6aCDku6XmmKDlsITnmoTlvaLlvI/ojrflj5blsZ7mgKfliJfooajjgIJcclxuICAgICAqIEBtZXRob2QgZ2V0UHJvcGVydGllc1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIGxldCBvZmZzZXQgPSB0TVhPYmplY3RHcm91cC5nZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICAgKi9cclxuICAgIGdldFByb3BlcnRpZXMgKCkge1xyXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXM7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogISNlbiBHZXRzIHRoZSBHcm91cCBuYW1lLlxyXG4gICAgICogISN6aCDojrflj5bnu4TlkI3np7DjgIJcclxuICAgICAqIEBtZXRob2QgZ2V0R3JvdXBOYW1lXHJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbGV0IGdyb3VwTmFtZSA9IHRNWE9iamVjdEdyb3VwLmdldEdyb3VwTmFtZTtcclxuICAgICAqL1xyXG4gICAgZ2V0R3JvdXBOYW1lICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXBOYW1lO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgZm9yIHRoZSBzcGVjaWZpYyBwcm9wZXJ0eSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlOYW1lXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldFByb3BlcnR5IChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllc1twcm9wZXJ0eU5hbWUudG9TdHJpbmcoKV07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogISNlblxyXG4gICAgICogUmV0dXJuIHRoZSBvYmplY3QgZm9yIHRoZSBzcGVjaWZpYyBvYmplY3QgbmFtZS4gPGJyIC8+XHJcbiAgICAgKiBJdCB3aWxsIHJldHVybiB0aGUgMXN0IG9iamVjdCBmb3VuZCBvbiB0aGUgYXJyYXkgZm9yIHRoZSBnaXZlbiBuYW1lLlxyXG4gICAgICogISN6aCDojrflj5bmjIflrprnmoTlr7nosaHjgIJcclxuICAgICAqIEBtZXRob2QgZ2V0T2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqZWN0TmFtZVxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fE51bGx9XHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbGV0IG9iamVjdCA9IHRNWE9iamVjdEdyb3VwLmdldE9iamVjdChcIkdyb3VwXCIpO1xyXG4gICAgICovXHJcbiAgICBnZXRPYmplY3QgKG9iamVjdE5hbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5fb2JqZWN0c1tpXTtcclxuICAgICAgICAgICAgaWYgKG9iaiAmJiBvYmoubmFtZSA9PT0gb2JqZWN0TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvYmplY3Qgbm90IGZvdW5kXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogISNlbiBHZXRzIHRoZSBvYmplY3RzLlxyXG4gICAgICogISN6aCDojrflj5blr7nosaHmlbDnu4TjgIJcclxuICAgICAqIEBtZXRob2QgZ2V0T2JqZWN0c1xyXG4gICAgICogQHJldHVybiB7QXJyYXl9XHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogbGV0IG9iamVjdHMgPSB0TVhPYmplY3RHcm91cC5nZXRPYmplY3RzKCk7XHJcbiAgICAgKi9cclxuICAgIGdldE9iamVjdHMgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vYmplY3RzO1xyXG4gICAgfSxcclxuXHJcbiAgICBfaW5pdCAoZ3JvdXBJbmZvLCBtYXBJbmZvLCB0ZXhHcmlkcykge1xyXG4gICAgICAgIGNvbnN0IFRpbGVkTWFwID0gY2MuVGlsZWRNYXA7XHJcbiAgICAgICAgY29uc3QgVE1YT2JqZWN0VHlwZSA9IFRpbGVkTWFwLlRNWE9iamVjdFR5cGU7XHJcbiAgICAgICAgY29uc3QgT3JpZW50YXRpb24gPSBUaWxlZE1hcC5PcmllbnRhdGlvbjtcclxuICAgICAgICBjb25zdCBTdGFnZ2VyQXhpcyA9IFRpbGVkTWFwLlN0YWdnZXJBeGlzO1xyXG4gICAgICAgIGNvbnN0IFRpbGVGbGFnID0gVGlsZWRNYXAuVGlsZUZsYWc7XHJcbiAgICAgICAgY29uc3QgRkxJUFBFRF9NQVNLID0gVGlsZUZsYWcuRkxJUFBFRF9NQVNLO1xyXG4gICAgICAgIGNvbnN0IEZMQUdfSE9SSVpPTlRBTCA9IFRpbGVGbGFnLkhPUklaT05UQUw7XHJcbiAgICAgICAgY29uc3QgRkxBR19WRVJUSUNBTCA9IFRpbGVGbGFnLlZFUlRJQ0FMO1xyXG5cclxuICAgICAgICB0aGlzLl9ncm91cE5hbWUgPSBncm91cEluZm8ubmFtZTtcclxuICAgICAgICB0aGlzLl9wb3NpdGlvbk9mZnNldCA9IGdyb3VwSW5mby5vZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5fbWFwSW5mbyA9IG1hcEluZm87XHJcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IGdyb3VwSW5mby5nZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gY2MudjIoZ3JvdXBJbmZvLm9mZnNldC54LCAtZ3JvdXBJbmZvLm9mZnNldC55KTtcclxuICAgICAgICB0aGlzLl9vcGFjaXR5ID0gZ3JvdXBJbmZvLl9vcGFjaXR5O1xyXG5cclxuICAgICAgICBsZXQgbWFwU2l6ZSA9IG1hcEluZm8uX21hcFNpemU7XHJcbiAgICAgICAgbGV0IHRpbGVTaXplID0gbWFwSW5mby5fdGlsZVNpemU7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gMCwgaGVpZ2h0ID0gMDtcclxuICAgICAgICBpZiAobWFwSW5mby5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSEVYKSB7XHJcbiAgICAgICAgICAgIGlmIChtYXBJbmZvLmdldFN0YWdnZXJBeGlzKCkgPT09IFN0YWdnZXJBeGlzLlNUQUdHRVJBWElTX1gpIHtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRpbGVTaXplLmhlaWdodCAqIChtYXBTaXplLmhlaWdodCArIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9ICh0aWxlU2l6ZS53aWR0aCArIG1hcEluZm8uZ2V0SGV4U2lkZUxlbmd0aCgpKSAqIE1hdGguZmxvb3IobWFwU2l6ZS53aWR0aCAvIDIpICsgdGlsZVNpemUud2lkdGggKiAobWFwU2l6ZS53aWR0aCAlIDIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aWxlU2l6ZS53aWR0aCAqIChtYXBTaXplLndpZHRoICsgMC41KTtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9ICh0aWxlU2l6ZS5oZWlnaHQgKyBtYXBJbmZvLmdldEhleFNpZGVMZW5ndGgoKSkgKiBNYXRoLmZsb29yKG1hcFNpemUuaGVpZ2h0IC8gMikgKyB0aWxlU2l6ZS5oZWlnaHQgKiAobWFwU2l6ZS5oZWlnaHQgJSAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAobWFwSW5mby5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSVNPKSB7XHJcbiAgICAgICAgICAgIGxldCB3aCA9IG1hcFNpemUud2lkdGggKyBtYXBTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgd2lkdGggPSB0aWxlU2l6ZS53aWR0aCAqIDAuNSAqIHdoO1xyXG4gICAgICAgICAgICBoZWlnaHQgPSB0aWxlU2l6ZS5oZWlnaHQgKiAwLjUgKiB3aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aWR0aCA9IG1hcFNpemUud2lkdGggKiB0aWxlU2l6ZS53aWR0aDsgXHJcbiAgICAgICAgICAgIGhlaWdodCA9IG1hcFNpemUuaGVpZ2h0ICogdGlsZVNpemUuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGUuc2V0Q29udGVudFNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0VG9wWCA9IHdpZHRoICogdGhpcy5ub2RlLmFuY2hvclg7XHJcbiAgICAgICAgbGV0IGxlZnRUb3BZID0gaGVpZ2h0ICogKDEgLSB0aGlzLm5vZGUuYW5jaG9yWSk7XHJcblxyXG4gICAgICAgIGxldCBvYmplY3RzID0gZ3JvdXBJbmZvLl9vYmplY3RzO1xyXG4gICAgICAgIGxldCBhbGl2ZU5vZGVzID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBvYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgb2JqZWN0ID0gb2JqZWN0c1tpXTtcclxuICAgICAgICAgICAgbGV0IG9ialR5cGUgPSBvYmplY3QudHlwZTtcclxuICAgICAgICAgICAgb2JqZWN0Lm9mZnNldCA9IGNjLnYyKG9iamVjdC54LCBvYmplY3QueSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gb2JqZWN0LnBvaW50cyB8fCBvYmplY3QucG9seWxpbmVQb2ludHM7XHJcbiAgICAgICAgICAgIGlmIChwb2ludHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHBpID0gMDsgcGkgPCBwb2ludHMubGVuZ3RoOyBwaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzW3BpXS55ICo9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBpZiAoT3JpZW50YXRpb24uSVNPICE9PSBtYXBJbmZvLm9yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QueSA9IGhlaWdodCAtIG9iamVjdC55O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvc0lkeFggPSBvYmplY3QueCAvIHRpbGVTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGxldCBwb3NJZHhZID0gb2JqZWN0LnkgLyB0aWxlU2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBvYmplY3QueCA9IHRpbGVTaXplLndpZHRoICogMC41ICogKG1hcFNpemUuaGVpZ2h0ICsgcG9zSWR4WCAtIHBvc0lkeFkpO1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnkgPSB0aWxlU2l6ZS5oZWlnaHQgKiAwLjUgKiAobWFwU2l6ZS53aWR0aCArIG1hcFNpemUuaGVpZ2h0IC0gcG9zSWR4WCAtIHBvc0lkeFkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2JqVHlwZSA9PT0gVE1YT2JqZWN0VHlwZS5URVhUKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dE5hbWUgPSBcInRleHRcIiArIG9iamVjdC5pZDtcclxuICAgICAgICAgICAgICAgIGFsaXZlTm9kZXNbdGV4dE5hbWVdID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dE5vZGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUodGV4dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZXh0Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHROb2RlID0gbmV3IGNjLk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS5hY3RpdmUgPSBvYmplY3QudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIHRleHROb2RlLmFuY2hvclggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuYW5jaG9yWSA9IDE7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS5hbmdsZSA9IC1vYmplY3Qucm90YXRpb247XHJcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS54ID0gb2JqZWN0LnggLSBsZWZ0VG9wWDtcclxuICAgICAgICAgICAgICAgIHRleHROb2RlLnkgPSBvYmplY3QueSAtIGxlZnRUb3BZO1xyXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUubmFtZSA9IHRleHROYW1lO1xyXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUucGFyZW50ID0gdGhpcy5ub2RlO1xyXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuY29sb3IgPSBvYmplY3QuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS5vcGFjaXR5ID0gdGhpcy5fb3BhY2l0eTtcclxuICAgICAgICAgICAgICAgIHRleHROb2RlLnNldFNpYmxpbmdJbmRleChpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSB0ZXh0Tm9kZS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gdGV4dE5vZGUuYWRkQ29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGFiZWwub3ZlcmZsb3cgPSBjYy5MYWJlbC5PdmVyZmxvdy5TSFJJTks7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5saW5lSGVpZ2h0ID0gb2JqZWN0LmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGxhYmVsLnN0cmluZyA9IG9iamVjdC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuaG9yaXpvbnRhbEFsaWduID0gb2JqZWN0LmhhbGlnbjtcclxuICAgICAgICAgICAgICAgIGxhYmVsLnZlcnRpY2FsQWxpZ24gPSBvYmplY3QudmFsaWduO1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuZm9udFNpemUgPSBvYmplY3QucGl4ZWxzaXplO1xyXG5cclxuICAgICAgICAgICAgICAgIHRleHROb2RlLndpZHRoID0gb2JqZWN0LndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG9ialR5cGUgPT09IFRNWE9iamVjdFR5cGUuSU1BR0UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBnaWQgPSBvYmplY3QuZ2lkO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyaWQgPSB0ZXhHcmlkc1soZ2lkICYgRkxJUFBFRF9NQVNLKSA+Pj4gMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWdyaWQpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpbGVzZXQgPSBncmlkLnRpbGVzZXQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW1nTmFtZSA9IFwiaW1nXCIgKyBvYmplY3QuaWQ7XHJcbiAgICAgICAgICAgICAgICBhbGl2ZU5vZGVzW2ltZ05hbWVdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBpbWdOb2RlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKGltZ05hbWUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGltZ1dpZHRoID0gb2JqZWN0LndpZHRoIHx8IGdyaWQud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW1nSGVpZ2h0ID0gb2JqZWN0LmhlaWdodCB8fCBncmlkLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGxldCB0aWxlT2Zmc2V0WCA9IHRpbGVzZXQudGlsZU9mZnNldC54O1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpbGVPZmZzZXRZID0gdGlsZXNldC50aWxlT2Zmc2V0Lnk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIGltYWdlIG5vZGVzIGltcGxlbWVudGVkIGFzIHByaXZhdGUgbm9kZXNcclxuICAgICAgICAgICAgICAgIC8vIFVzZSBjYy5Ob2RlIHRvIGltcGxlbWVudCBub2RlLWxldmVsIHJlcXVpcmVtZW50c1xyXG4gICAgICAgICAgICAgICAgaWYgKGltZ05vZGUgaW5zdGFuY2VvZiBjYy5Qcml2YXRlTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaW1nTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUgPSBuZXcgY2MuTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChPcmllbnRhdGlvbi5JU08gPT0gbWFwSW5mby5vcmllbnRhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUuYW5jaG9yWCA9IDAuNSArIHRpbGVPZmZzZXRYIC8gaW1nV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nTm9kZS5hbmNob3JZID0gdGlsZU9mZnNldFkgLyBpbWdIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ05vZGUuYW5jaG9yWCA9IHRpbGVPZmZzZXRYIC8gaW1nV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nTm9kZS5hbmNob3JZID0gdGlsZU9mZnNldFkgLyBpbWdIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbWdOb2RlLmFjdGl2ZSA9IG9iamVjdC52aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgaW1nTm9kZS5hbmdsZSA9IC1vYmplY3Qucm90YXRpb247XHJcbiAgICAgICAgICAgICAgICBpbWdOb2RlLnggPSBvYmplY3QueCAtIGxlZnRUb3BYO1xyXG4gICAgICAgICAgICAgICAgaW1nTm9kZS55ID0gb2JqZWN0LnkgLSBsZWZ0VG9wWTtcclxuICAgICAgICAgICAgICAgIGltZ05vZGUubmFtZSA9IGltZ05hbWU7XHJcbiAgICAgICAgICAgICAgICBpbWdOb2RlLnBhcmVudCA9IHRoaXMubm9kZTtcclxuICAgICAgICAgICAgICAgIGltZ05vZGUub3BhY2l0eSA9IHRoaXMuX29wYWNpdHk7XHJcbiAgICAgICAgICAgICAgICBpbWdOb2RlLnNldFNpYmxpbmdJbmRleChpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc3AgPSBpbWdOb2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwID0gaW1nTm9kZS5hZGRDb21wb25lbnQoY2MuU3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBzcGYgPSBzcC5zcHJpdGVGcmFtZTtcclxuICAgICAgICAgICAgICAgIGlmICghc3BmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BmID0gbmV3IGNjLlNwcml0ZUZyYW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChnaWQgJiBGTEFHX0hPUklaT05UQUwpID4+PiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BmLnNldEZsaXBYKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGYuc2V0RmxpcFgoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICgoZ2lkICYgRkxBR19WRVJUSUNBTCkgPj4+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGYuc2V0RmxpcFkodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZi5zZXRGbGlwWShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3BmLnNldFRleHR1cmUoZ3JpZC50aWxlc2V0LnNvdXJjZUltYWdlLCBjYy5yZWN0KGdyaWQpKTtcclxuICAgICAgICAgICAgICAgIHNwLnNwcml0ZUZyYW1lID0gc3BmO1xyXG4gICAgICAgICAgICAgICAgc3Auc2V0VmVydHNEaXJ0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIG9iamVjdCBncm91cCBtYXkgaGFzIG5vIHdpZHRoIG9yIGhlaWdodCBpbmZvXHJcbiAgICAgICAgICAgICAgICBpbWdOb2RlLndpZHRoID0gaW1nV2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpbWdOb2RlLmhlaWdodCA9IGltZ0hlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vYmplY3RzID0gb2JqZWN0cztcclxuXHJcbiAgICAgICAgLy8gZGVzdHJveSB1c2VsZXNzIG5vZGVcclxuICAgICAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLm5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgbGV0IHVzZWxlc3NFeHAgPSAvXig/OmltZ3x0ZXh0KVxcZCskLztcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYyA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBsZXQgY05hbWUgPSBjLl9uYW1lO1xyXG4gICAgICAgICAgICBsZXQgaXNVc2VsZXNzID0gdXNlbGVzc0V4cC50ZXN0KGNOYW1lKTtcclxuICAgICAgICAgICAgaWYgKGlzVXNlbGVzcyAmJiAhYWxpdmVOb2Rlc1tjTmFtZV0pIGMuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5jYy5UaWxlZE9iamVjdEdyb3VwID0gbW9kdWxlLmV4cG9ydHMgPSBUaWxlZE9iamVjdEdyb3VwO1xyXG4iXSwic291cmNlUm9vdCI6Ii8ifQ==