
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'engine-dev/cocos2d/renderer/types.js';
                    var __require = nodeEnv ? function (request) {
                        return require(request);
                    } : function (request) {
                        return __quick_compile_engine__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_engine__.registerModule(__filename, module);}"use strict";

exports.__esModule = true;
exports.getInspectorProps = getInspectorProps;
exports.getClassName = exports.getInstanceCtor = exports.getInstanceType = exports.enums2default = exports.ctor2enums = void 0;

var _enums = _interopRequireDefault(require("./enums"));

var _valueTypes = require("../core/value-types");

var _CCTexture2D = _interopRequireDefault(require("../core/assets/CCTexture2D"));

var _ctor2default, _enums2ctor, _ctor2enums, _enums2default;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var gfxTexture2D = null,
    gfxTextureCube = null;

if (CC_JSB && CC_NATIVERENDERER) {
  gfxTexture2D = gfx.Texture2D;
} else {
  gfxTexture2D = require('./gfx/texture-2d');
}

var CCObject = cc.Object;
var ctor2default = (_ctor2default = {}, _ctor2default[Boolean] = function (v) {
  return v || false;
}, _ctor2default[Number] = function (v) {
  return v ? ArrayBuffer.isView(v) ? v[0] : v : 0;
}, _ctor2default[_valueTypes.Vec2] = function (v) {
  return v ? cc.v2(v[0], v[1]) : cc.v2();
}, _ctor2default[_valueTypes.Vec3] = function (v) {
  return v ? cc.v3(v[0], v[1], v[2]) : cc.v3();
}, _ctor2default[_valueTypes.Vec4] = function (v) {
  return v ? cc.v4(v[0], v[1], v[2], v[3]) : cc.v4();
}, _ctor2default[_valueTypes.Color] = function (v) {
  return v ? cc.color(v[0] * 255, v[1] * 255, v[2] * 255, (v[3] || 1) * 255) : cc.color();
}, _ctor2default[_valueTypes.Mat4] = function (v) {
  return v ? cc.mat4(v[0], v[1], v[2], v[3], v[4], v[5], v[6], v[7], v[8], v[9], v[10], v[11], v[12], v[13], v[14], v[15]) : cc.mat4();
}, _ctor2default[_CCTexture2D["default"]] = function () {
  return null;
}, _ctor2default[CCObject] = function () {
  return null;
}, _ctor2default);
var enums2ctor = (_enums2ctor = {}, _enums2ctor[_enums["default"].PARAM_INT] = Number, _enums2ctor[_enums["default"].PARAM_INT2] = _valueTypes.Vec2, _enums2ctor[_enums["default"].PARAM_INT3] = _valueTypes.Vec3, _enums2ctor[_enums["default"].PARAM_INT4] = _valueTypes.Vec4, _enums2ctor[_enums["default"].PARAM_FLOAT] = Number, _enums2ctor[_enums["default"].PARAM_FLOAT2] = _valueTypes.Vec2, _enums2ctor[_enums["default"].PARAM_FLOAT3] = _valueTypes.Vec3, _enums2ctor[_enums["default"].PARAM_FLOAT4] = _valueTypes.Vec4, _enums2ctor[_enums["default"].PARAM_MAT4] = _valueTypes.Mat4, _enums2ctor[_enums["default"].PARAM_TEXTURE_2D] = _CCTexture2D["default"], _enums2ctor.color = _valueTypes.Color, _enums2ctor.number = Number, _enums2ctor["boolean"] = Boolean, _enums2ctor["default"] = CCObject, _enums2ctor);
var ctor2enums = (_ctor2enums = {}, _ctor2enums[Number] = _enums["default"].PARAM_FLOAT, _ctor2enums[_valueTypes.Vec2] = _enums["default"].PARAM_FLOAT2, _ctor2enums[_valueTypes.Vec3] = _enums["default"].PARAM_FLOAT3, _ctor2enums[_valueTypes.Vec4] = _enums["default"].PARAM_FLOAT4, _ctor2enums[_valueTypes.Color] = _enums["default"].PARAM_COLOR3, _ctor2enums[_valueTypes.Color] = _enums["default"].PARAM_COLOR4, _ctor2enums[_valueTypes.Mat4] = _enums["default"].PARAM_MAT4, _ctor2enums[_CCTexture2D["default"]] = _enums["default"].PARAM_TEXTURE_2D, _ctor2enums[gfxTexture2D] = _enums["default"].PARAM_TEXTURE_2D, _ctor2enums);
exports.ctor2enums = ctor2enums;
var enums2default = (_enums2default = {}, _enums2default[_enums["default"].PARAM_INT] = new Uint32Array([0]), _enums2default[_enums["default"].PARAM_INT2] = new Uint32Array([0, 0]), _enums2default[_enums["default"].PARAM_INT3] = new Uint32Array([0, 0, 0]), _enums2default[_enums["default"].PARAM_INT4] = new Uint32Array([0, 0, 0, 0]), _enums2default[_enums["default"].PARAM_FLOAT] = new Float32Array([0]), _enums2default[_enums["default"].PARAM_FLOAT2] = new Float32Array([0, 0]), _enums2default[_enums["default"].PARAM_FLOAT3] = new Float32Array([0, 0, 0]), _enums2default[_enums["default"].PARAM_FLOAT4] = new Float32Array([0, 0, 0, 0]), _enums2default[_enums["default"].PARAM_MAT4] = cc.mat4().m, _enums2default[_enums["default"].PARAM_TEXTURE_2D] = null, _enums2default.number = 0, _enums2default["boolean"] = false, _enums2default);
exports.enums2default = enums2default;

var getInstanceType = function getInstanceType(t) {
  return enums2ctor[t] || enums2ctor["default"];
};

exports.getInstanceType = getInstanceType;

var getInstanceCtor = function getInstanceCtor(t) {
  return ctor2default[getInstanceType(t)];
};

exports.getInstanceCtor = getInstanceCtor;

var getClassName = function getClassName(t) {
  return cc.js.getClassName(getInstanceType(t));
};

exports.getClassName = getClassName;
var className2InspectorName = {
  Number: 'number',
  Boolean: 'boolean'
};

function getInspectorProps(prop) {
  var editor = {
    type: prop.type
  };
  Object.assign(editor, prop.editor || prop.inspector);
  editor.defines = prop.defines;
  editor.value = getInstanceCtor(editor.type)(prop.value);

  if (prop.range) {
    editor.range = prop.range;
  }

  var className = getClassName(editor.type);
  editor.typeName = className2InspectorName[className] || className;
  editor.valueCtor = enums2ctor[editor.type];

  if (editor.typeName == 'cc.Texture2D') {
    editor.typeName = 'cc.Asset';
    editor.assetType = 'cc.Texture2D';
  }

  return editor;
}

;
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_engine__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZ2luZS1kZXZcXGNvY29zMmRcXHJlbmRlcmVyXFx0eXBlcy5qcyJdLCJuYW1lcyI6WyJnZnhUZXh0dXJlMkQiLCJnZnhUZXh0dXJlQ3ViZSIsIkNDX0pTQiIsIkNDX05BVElWRVJFTkRFUkVSIiwiZ2Z4IiwiVGV4dHVyZTJEIiwicmVxdWlyZSIsIkNDT2JqZWN0IiwiY2MiLCJPYmplY3QiLCJjdG9yMmRlZmF1bHQiLCJCb29sZWFuIiwidiIsIk51bWJlciIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiVmVjMiIsInYyIiwiVmVjMyIsInYzIiwiVmVjNCIsInY0IiwiQ29sb3IiLCJjb2xvciIsIk1hdDQiLCJtYXQ0IiwiZW51bXMyY3RvciIsImVudW1zIiwiUEFSQU1fSU5UIiwiUEFSQU1fSU5UMiIsIlBBUkFNX0lOVDMiLCJQQVJBTV9JTlQ0IiwiUEFSQU1fRkxPQVQiLCJQQVJBTV9GTE9BVDIiLCJQQVJBTV9GTE9BVDMiLCJQQVJBTV9GTE9BVDQiLCJQQVJBTV9NQVQ0IiwiUEFSQU1fVEVYVFVSRV8yRCIsIm51bWJlciIsImN0b3IyZW51bXMiLCJQQVJBTV9DT0xPUjMiLCJQQVJBTV9DT0xPUjQiLCJlbnVtczJkZWZhdWx0IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJtIiwiZ2V0SW5zdGFuY2VUeXBlIiwidCIsImdldEluc3RhbmNlQ3RvciIsImdldENsYXNzTmFtZSIsImpzIiwiY2xhc3NOYW1lMkluc3BlY3Rvck5hbWUiLCJnZXRJbnNwZWN0b3JQcm9wcyIsInByb3AiLCJlZGl0b3IiLCJ0eXBlIiwiYXNzaWduIiwiaW5zcGVjdG9yIiwiZGVmaW5lcyIsInZhbHVlIiwicmFuZ2UiLCJjbGFzc05hbWUiLCJ0eXBlTmFtZSIsInZhbHVlQ3RvciIsImFzc2V0VHlwZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBSUEsWUFBWSxHQUFHLElBQW5CO0FBQUEsSUFBeUJDLGNBQWMsR0FBRyxJQUExQzs7QUFDQSxJQUFJQyxNQUFNLElBQUlDLGlCQUFkLEVBQWlDO0FBQzdCSCxFQUFBQSxZQUFZLEdBQUdJLEdBQUcsQ0FBQ0MsU0FBbkI7QUFDSCxDQUZELE1BRU87QUFDSEwsRUFBQUEsWUFBWSxHQUFHTSxPQUFPLENBQUMsa0JBQUQsQ0FBdEI7QUFDSDs7QUFFRCxJQUFNQyxRQUFRLEdBQUdDLEVBQUUsQ0FBQ0MsTUFBcEI7QUFFQSxJQUFJQyxZQUFZLHNDQUNYQyxPQURXLElBQ0QsVUFBQUMsQ0FBQztBQUFBLFNBQUlBLENBQUMsSUFBSSxLQUFUO0FBQUEsQ0FEQSxnQkFFWEMsTUFGVyxJQUVGLFVBQUFELENBQUM7QUFBQSxTQUFJQSxDQUFDLEdBQUlFLFdBQVcsQ0FBQ0MsTUFBWixDQUFtQkgsQ0FBbkIsSUFBd0JBLENBQUMsQ0FBQyxDQUFELENBQXpCLEdBQStCQSxDQUFuQyxHQUF3QyxDQUE3QztBQUFBLENBRkMsZ0JBR1hJLGdCQUhXLElBR0osVUFBQUosQ0FBQztBQUFBLFNBQUlBLENBQUMsR0FBR0osRUFBRSxDQUFDUyxFQUFILENBQU1MLENBQUMsQ0FBQyxDQUFELENBQVAsRUFBWUEsQ0FBQyxDQUFDLENBQUQsQ0FBYixDQUFILEdBQXVCSixFQUFFLENBQUNTLEVBQUgsRUFBNUI7QUFBQSxDQUhHLGdCQUlYQyxnQkFKVyxJQUlKLFVBQUFOLENBQUM7QUFBQSxTQUFJQSxDQUFDLEdBQUdKLEVBQUUsQ0FBQ1csRUFBSCxDQUFNUCxDQUFDLENBQUMsQ0FBRCxDQUFQLEVBQVlBLENBQUMsQ0FBQyxDQUFELENBQWIsRUFBa0JBLENBQUMsQ0FBQyxDQUFELENBQW5CLENBQUgsR0FBNkJKLEVBQUUsQ0FBQ1csRUFBSCxFQUFsQztBQUFBLENBSkcsZ0JBS1hDLGdCQUxXLElBS0osVUFBQVIsQ0FBQztBQUFBLFNBQUlBLENBQUMsR0FBR0osRUFBRSxDQUFDYSxFQUFILENBQU1ULENBQUMsQ0FBQyxDQUFELENBQVAsRUFBWUEsQ0FBQyxDQUFDLENBQUQsQ0FBYixFQUFrQkEsQ0FBQyxDQUFDLENBQUQsQ0FBbkIsRUFBd0JBLENBQUMsQ0FBQyxDQUFELENBQXpCLENBQUgsR0FBbUNKLEVBQUUsQ0FBQ2EsRUFBSCxFQUF4QztBQUFBLENBTEcsZ0JBTVhDLGlCQU5XLElBTUgsVUFBQVYsQ0FBQztBQUFBLFNBQUlBLENBQUMsR0FBR0osRUFBRSxDQUFDZSxLQUFILENBQVNYLENBQUMsQ0FBQyxDQUFELENBQUQsR0FBTyxHQUFoQixFQUFxQkEsQ0FBQyxDQUFDLENBQUQsQ0FBRCxHQUFPLEdBQTVCLEVBQWlDQSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sR0FBeEMsRUFDZCxDQUFDQSxDQUFDLENBQUMsQ0FBRCxDQUFELElBQVEsQ0FBVCxJQUFjLEdBREEsQ0FBSCxHQUNVSixFQUFFLENBQUNlLEtBQUgsRUFEZjtBQUFBLENBTkUsZ0JBUVhDLGdCQVJXLElBUUosVUFBQVosQ0FBQztBQUFBLFNBQUlBLENBQUMsR0FBR0osRUFBRSxDQUFDaUIsSUFBSCxDQUNiYixDQUFDLENBQUMsQ0FBRCxDQURZLEVBQ1BBLENBQUMsQ0FBQyxDQUFELENBRE0sRUFDREEsQ0FBQyxDQUFDLENBQUQsQ0FEQSxFQUNLQSxDQUFDLENBQUMsQ0FBRCxDQUROLEVBRWJBLENBQUMsQ0FBQyxDQUFELENBRlksRUFFUEEsQ0FBQyxDQUFDLENBQUQsQ0FGTSxFQUVEQSxDQUFDLENBQUMsQ0FBRCxDQUZBLEVBRUtBLENBQUMsQ0FBQyxDQUFELENBRk4sRUFHYkEsQ0FBQyxDQUFDLENBQUQsQ0FIWSxFQUdQQSxDQUFDLENBQUMsQ0FBRCxDQUhNLEVBR0RBLENBQUMsQ0FBQyxFQUFELENBSEEsRUFHTUEsQ0FBQyxDQUFDLEVBQUQsQ0FIUCxFQUliQSxDQUFDLENBQUMsRUFBRCxDQUpZLEVBSU5BLENBQUMsQ0FBQyxFQUFELENBSkssRUFJQ0EsQ0FBQyxDQUFDLEVBQUQsQ0FKRixFQUlRQSxDQUFDLENBQUMsRUFBRCxDQUpULENBQUgsR0FLVkosRUFBRSxDQUFDaUIsSUFBSCxFQUxLO0FBQUEsQ0FSRyxnQkFjWHBCLHVCQWRXLElBY0M7QUFBQSxTQUFNLElBQU47QUFBQSxDQWRELGdCQWVYRSxRQWZXLElBZUE7QUFBQSxTQUFNLElBQU47QUFBQSxDQWZBLGdCQUFoQjtBQW1CQSxJQUFJbUIsVUFBVSxrQ0FDVEMsa0JBQU1DLFNBREcsSUFDU2YsTUFEVCxjQUVUYyxrQkFBTUUsVUFGRyxJQUVVYixnQkFGVixjQUdUVyxrQkFBTUcsVUFIRyxJQUdVWixnQkFIVixjQUlUUyxrQkFBTUksVUFKRyxJQUlVWCxnQkFKVixjQUtUTyxrQkFBTUssV0FMRyxJQUtXbkIsTUFMWCxjQU1UYyxrQkFBTU0sWUFORyxJQU1ZakIsZ0JBTlosY0FPVFcsa0JBQU1PLFlBUEcsSUFPWWhCLGdCQVBaLGNBUVRTLGtCQUFNUSxZQVJHLElBUVlmLGdCQVJaLGNBU1RPLGtCQUFNUyxVQVRHLElBU1VaLGdCQVRWLGNBVVRHLGtCQUFNVSxnQkFWRyxJQVVnQmhDLHVCQVZoQixjQVlWa0IsS0FaVSxHQVlIRCxpQkFaRyxjQWFWZ0IsTUFiVSxHQWFGekIsTUFiRSwyQkFjREYsT0FkQywyQkFlREosUUFmQyxjQUFkO0FBa0JPLElBQUlnQyxVQUFVLGtDQUNoQjFCLE1BRGdCLElBQ1BjLGtCQUFNSyxXQURDLGNBRWhCaEIsZ0JBRmdCLElBRVRXLGtCQUFNTSxZQUZHLGNBR2hCZixnQkFIZ0IsSUFHVFMsa0JBQU1PLFlBSEcsY0FJaEJkLGdCQUpnQixJQUlUTyxrQkFBTVEsWUFKRyxjQUtoQmIsaUJBTGdCLElBS1JLLGtCQUFNYSxZQUxFLGNBTWhCbEIsaUJBTmdCLElBTVJLLGtCQUFNYyxZQU5FLGNBT2hCakIsZ0JBUGdCLElBT1RHLGtCQUFNUyxVQVBHLGNBUWhCL0IsdUJBUmdCLElBUUpzQixrQkFBTVUsZ0JBUkYsY0FTaEJyQyxZQVRnQixJQVNEMkIsa0JBQU1VLGdCQVRMLGNBQWQ7O0FBWUEsSUFBSUssYUFBYSx3Q0FDbkJmLGtCQUFNQyxTQURhLElBQ0QsSUFBSWUsV0FBSixDQUFnQixDQUFDLENBQUQsQ0FBaEIsQ0FEQyxpQkFFbkJoQixrQkFBTUUsVUFGYSxJQUVBLElBQUljLFdBQUosQ0FBZ0IsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFoQixDQUZBLGlCQUduQmhCLGtCQUFNRyxVQUhhLElBR0EsSUFBSWEsV0FBSixDQUFnQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUFoQixDQUhBLGlCQUluQmhCLGtCQUFNSSxVQUphLElBSUEsSUFBSVksV0FBSixDQUFnQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBaEIsQ0FKQSxpQkFLbkJoQixrQkFBTUssV0FMYSxJQUtDLElBQUlZLFlBQUosQ0FBaUIsQ0FBQyxDQUFELENBQWpCLENBTEQsaUJBTW5CakIsa0JBQU1NLFlBTmEsSUFNRSxJQUFJVyxZQUFKLENBQWlCLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBakIsQ0FORixpQkFPbkJqQixrQkFBTU8sWUFQYSxJQU9FLElBQUlVLFlBQUosQ0FBaUIsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FBakIsQ0FQRixpQkFRbkJqQixrQkFBTVEsWUFSYSxJQVFFLElBQUlTLFlBQUosQ0FBaUIsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQWpCLENBUkYsaUJBU25CakIsa0JBQU1TLFVBVGEsSUFTQTVCLEVBQUUsQ0FBQ2lCLElBQUgsR0FBVW9CLENBVFYsaUJBVW5CbEIsa0JBQU1VLGdCQVZhLElBVU0sSUFWTixpQkFZcEJDLE1BWm9CLEdBWVosQ0FaWSw4QkFhWCxLQWJXLGlCQUFqQjs7O0FBZ0JBLElBQUlRLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsQ0FBVUMsQ0FBVixFQUFhO0FBQ3RDLFNBQU9yQixVQUFVLENBQUNxQixDQUFELENBQVYsSUFBaUJyQixVQUFVLFdBQWxDO0FBQ0gsQ0FGTTs7OztBQUdBLElBQUlzQixlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQVVELENBQVYsRUFBYTtBQUN0QyxTQUFPckMsWUFBWSxDQUFDb0MsZUFBZSxDQUFDQyxDQUFELENBQWhCLENBQW5CO0FBQ0gsQ0FGTTs7OztBQUdBLElBQUlFLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQVVGLENBQVYsRUFBYTtBQUNuQyxTQUFPdkMsRUFBRSxDQUFDMEMsRUFBSCxDQUFNRCxZQUFOLENBQW1CSCxlQUFlLENBQUNDLENBQUQsQ0FBbEMsQ0FBUDtBQUNILENBRk07OztBQUlQLElBQUlJLHVCQUF1QixHQUFHO0FBQzFCdEMsRUFBQUEsTUFBTSxFQUFFLFFBRGtCO0FBRTFCRixFQUFBQSxPQUFPLEVBQUU7QUFGaUIsQ0FBOUI7O0FBSU8sU0FBU3lDLGlCQUFULENBQTRCQyxJQUE1QixFQUFrQztBQUNyQyxNQUFJQyxNQUFNLEdBQUc7QUFDVEMsSUFBQUEsSUFBSSxFQUFFRixJQUFJLENBQUNFO0FBREYsR0FBYjtBQUlBOUMsRUFBQUEsTUFBTSxDQUFDK0MsTUFBUCxDQUFjRixNQUFkLEVBQXNCRCxJQUFJLENBQUNDLE1BQUwsSUFBZUQsSUFBSSxDQUFDSSxTQUExQztBQUVBSCxFQUFBQSxNQUFNLENBQUNJLE9BQVAsR0FBaUJMLElBQUksQ0FBQ0ssT0FBdEI7QUFDQUosRUFBQUEsTUFBTSxDQUFDSyxLQUFQLEdBQWVYLGVBQWUsQ0FBQ00sTUFBTSxDQUFDQyxJQUFSLENBQWYsQ0FBNkJGLElBQUksQ0FBQ00sS0FBbEMsQ0FBZjs7QUFDQSxNQUFJTixJQUFJLENBQUNPLEtBQVQsRUFBZ0I7QUFDWk4sSUFBQUEsTUFBTSxDQUFDTSxLQUFQLEdBQWVQLElBQUksQ0FBQ08sS0FBcEI7QUFDSDs7QUFFRCxNQUFJQyxTQUFTLEdBQUdaLFlBQVksQ0FBQ0ssTUFBTSxDQUFDQyxJQUFSLENBQTVCO0FBQ0FELEVBQUFBLE1BQU0sQ0FBQ1EsUUFBUCxHQUFrQlgsdUJBQXVCLENBQUNVLFNBQUQsQ0FBdkIsSUFBc0NBLFNBQXhEO0FBRUFQLEVBQUFBLE1BQU0sQ0FBQ1MsU0FBUCxHQUFtQnJDLFVBQVUsQ0FBQzRCLE1BQU0sQ0FBQ0MsSUFBUixDQUE3Qjs7QUFFQSxNQUFJRCxNQUFNLENBQUNRLFFBQVAsSUFBbUIsY0FBdkIsRUFBdUM7QUFDbkNSLElBQUFBLE1BQU0sQ0FBQ1EsUUFBUCxHQUFrQixVQUFsQjtBQUNBUixJQUFBQSxNQUFNLENBQUNVLFNBQVAsR0FBbUIsY0FBbkI7QUFDSDs7QUFFRCxTQUFPVixNQUFQO0FBQ0g7O0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZW51bXMgZnJvbSAnLi9lbnVtcyc7XHJcbmltcG9ydCB7IFZlYzIsIFZlYzMsIFZlYzQsIENvbG9yLCBNYXQ0IH0gZnJvbSAnLi4vY29yZS92YWx1ZS10eXBlcyc7XHJcbmltcG9ydCBUZXh0dXJlMkQgZnJvbSAnLi4vY29yZS9hc3NldHMvQ0NUZXh0dXJlMkQnO1xyXG5cclxubGV0IGdmeFRleHR1cmUyRCA9IG51bGwsIGdmeFRleHR1cmVDdWJlID0gbnVsbDtcclxuaWYgKENDX0pTQiAmJiBDQ19OQVRJVkVSRU5ERVJFUikge1xyXG4gICAgZ2Z4VGV4dHVyZTJEID0gZ2Z4LlRleHR1cmUyRDtcclxufSBlbHNlIHtcclxuICAgIGdmeFRleHR1cmUyRCA9IHJlcXVpcmUoJy4vZ2Z4L3RleHR1cmUtMmQnKTtcclxufVxyXG5cclxuY29uc3QgQ0NPYmplY3QgPSBjYy5PYmplY3Q7XHJcblxyXG5sZXQgY3RvcjJkZWZhdWx0ID0ge1xyXG4gICAgW0Jvb2xlYW5dOiB2ID0+IHYgfHwgZmFsc2UsXHJcbiAgICBbTnVtYmVyXTogdiA9PiB2ID8gKEFycmF5QnVmZmVyLmlzVmlldyh2KSA/IHZbMF0gOiB2KSA6IDAsXHJcbiAgICBbVmVjMl06IHYgPT4gdiA/IGNjLnYyKHZbMF0sIHZbMV0pIDogY2MudjIoKSxcclxuICAgIFtWZWMzXTogdiA9PiB2ID8gY2MudjModlswXSwgdlsxXSwgdlsyXSkgOiBjYy52MygpLFxyXG4gICAgW1ZlYzRdOiB2ID0+IHYgPyBjYy52NCh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKSA6IGNjLnY0KCksXHJcbiAgICBbQ29sb3JdOiB2ID0+IHYgPyBjYy5jb2xvcih2WzBdICogMjU1LCB2WzFdICogMjU1LCB2WzJdICogMjU1LFxyXG4gICAgICAgICh2WzNdIHx8IDEpICogMjU1KSA6IGNjLmNvbG9yKCksXHJcbiAgICBbTWF0NF06IHYgPT4gdiA/IGNjLm1hdDQoXHJcbiAgICAgICAgdlswXSwgdlsxXSwgdlsyXSwgdlszXSxcclxuICAgICAgICB2WzRdLCB2WzVdLCB2WzZdLCB2WzddLFxyXG4gICAgICAgIHZbOF0sIHZbOV0sIHZbMTBdLCB2WzExXSxcclxuICAgICAgICB2WzEyXSwgdlsxM10sIHZbMTRdLCB2WzE1XSxcclxuICAgICkgOiBjYy5tYXQ0KCksXHJcbiAgICBbVGV4dHVyZTJEXTogKCkgPT4gbnVsbCxcclxuICAgIFtDQ09iamVjdF06ICgpID0+IG51bGxcclxufTtcclxuXHJcblxyXG5sZXQgZW51bXMyY3RvciA9IHtcclxuICAgIFtlbnVtcy5QQVJBTV9JTlRdOiBOdW1iZXIsXHJcbiAgICBbZW51bXMuUEFSQU1fSU5UMl06IFZlYzIsXHJcbiAgICBbZW51bXMuUEFSQU1fSU5UM106IFZlYzMsXHJcbiAgICBbZW51bXMuUEFSQU1fSU5UNF06IFZlYzQsXHJcbiAgICBbZW51bXMuUEFSQU1fRkxPQVRdOiBOdW1iZXIsXHJcbiAgICBbZW51bXMuUEFSQU1fRkxPQVQyXTogVmVjMixcclxuICAgIFtlbnVtcy5QQVJBTV9GTE9BVDNdOiBWZWMzLFxyXG4gICAgW2VudW1zLlBBUkFNX0ZMT0FUNF06IFZlYzQsXHJcbiAgICBbZW51bXMuUEFSQU1fTUFUNF06IE1hdDQsXHJcbiAgICBbZW51bXMuUEFSQU1fVEVYVFVSRV8yRF06IFRleHR1cmUyRCxcclxuICAgIFxyXG4gICAgY29sb3I6IENvbG9yLFxyXG4gICAgbnVtYmVyOiBOdW1iZXIsXHJcbiAgICBib29sZWFuOiBCb29sZWFuLFxyXG4gICAgZGVmYXVsdDogQ0NPYmplY3RcclxufTtcclxuXHJcbmV4cG9ydCBsZXQgY3RvcjJlbnVtcyA9IHtcclxuICAgIFtOdW1iZXJdOiBlbnVtcy5QQVJBTV9GTE9BVCxcclxuICAgIFtWZWMyXTogZW51bXMuUEFSQU1fRkxPQVQyLFxyXG4gICAgW1ZlYzNdOiBlbnVtcy5QQVJBTV9GTE9BVDMsXHJcbiAgICBbVmVjNF06IGVudW1zLlBBUkFNX0ZMT0FUNCxcclxuICAgIFtDb2xvcl06IGVudW1zLlBBUkFNX0NPTE9SMyxcclxuICAgIFtDb2xvcl06IGVudW1zLlBBUkFNX0NPTE9SNCxcclxuICAgIFtNYXQ0XTogZW51bXMuUEFSQU1fTUFUNCxcclxuICAgIFtUZXh0dXJlMkRdOiBlbnVtcy5QQVJBTV9URVhUVVJFXzJELFxyXG4gICAgW2dmeFRleHR1cmUyRF06IGVudW1zLlBBUkFNX1RFWFRVUkVfMkQsXHJcbn07XHJcblxyXG5leHBvcnQgbGV0IGVudW1zMmRlZmF1bHQgPSB7XHJcbiAgICBbZW51bXMuUEFSQU1fSU5UXTogbmV3IFVpbnQzMkFycmF5KFswXSksXHJcbiAgICBbZW51bXMuUEFSQU1fSU5UMl06IG5ldyBVaW50MzJBcnJheShbMCwgMF0pLFxyXG4gICAgW2VudW1zLlBBUkFNX0lOVDNdOiBuZXcgVWludDMyQXJyYXkoWzAsIDAsIDBdKSxcclxuICAgIFtlbnVtcy5QQVJBTV9JTlQ0XTogbmV3IFVpbnQzMkFycmF5KFswLCAwLCAwLCAwXSksXHJcbiAgICBbZW51bXMuUEFSQU1fRkxPQVRdOiBuZXcgRmxvYXQzMkFycmF5KFswXSksXHJcbiAgICBbZW51bXMuUEFSQU1fRkxPQVQyXTogbmV3IEZsb2F0MzJBcnJheShbMCwgMF0pLFxyXG4gICAgW2VudW1zLlBBUkFNX0ZMT0FUM106IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDBdKSxcclxuICAgIFtlbnVtcy5QQVJBTV9GTE9BVDRdOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAwXSksXHJcbiAgICBbZW51bXMuUEFSQU1fTUFUNF06IGNjLm1hdDQoKS5tLFxyXG4gICAgW2VudW1zLlBBUkFNX1RFWFRVUkVfMkRdOiBudWxsLFxyXG4gICAgXHJcbiAgICBudW1iZXI6IDAsXHJcbiAgICBib29sZWFuOiBmYWxzZSxcclxufVxyXG5cclxuZXhwb3J0IGxldCBnZXRJbnN0YW5jZVR5cGUgPSBmdW5jdGlvbiAodCkge1xyXG4gICAgcmV0dXJuIGVudW1zMmN0b3JbdF0gfHwgZW51bXMyY3Rvci5kZWZhdWx0O1xyXG59O1xyXG5leHBvcnQgbGV0IGdldEluc3RhbmNlQ3RvciA9IGZ1bmN0aW9uICh0KSB7XHJcbiAgICByZXR1cm4gY3RvcjJkZWZhdWx0W2dldEluc3RhbmNlVHlwZSh0KV07XHJcbn07XHJcbmV4cG9ydCBsZXQgZ2V0Q2xhc3NOYW1lID0gZnVuY3Rpb24gKHQpIHtcclxuICAgIHJldHVybiBjYy5qcy5nZXRDbGFzc05hbWUoZ2V0SW5zdGFuY2VUeXBlKHQpKTtcclxufTtcclxuXHJcbmxldCBjbGFzc05hbWUySW5zcGVjdG9yTmFtZSA9IHtcclxuICAgIE51bWJlcjogJ251bWJlcicsXHJcbiAgICBCb29sZWFuOiAnYm9vbGVhbidcclxufTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldEluc3BlY3RvclByb3BzIChwcm9wKSB7XHJcbiAgICBsZXQgZWRpdG9yID0ge1xyXG4gICAgICAgIHR5cGU6IHByb3AudHlwZVxyXG4gICAgfTtcclxuXHJcbiAgICBPYmplY3QuYXNzaWduKGVkaXRvciwgcHJvcC5lZGl0b3IgfHwgcHJvcC5pbnNwZWN0b3IpO1xyXG4gICAgXHJcbiAgICBlZGl0b3IuZGVmaW5lcyA9IHByb3AuZGVmaW5lcztcclxuICAgIGVkaXRvci52YWx1ZSA9IGdldEluc3RhbmNlQ3RvcihlZGl0b3IudHlwZSkocHJvcC52YWx1ZSk7XHJcbiAgICBpZiAocHJvcC5yYW5nZSkge1xyXG4gICAgICAgIGVkaXRvci5yYW5nZSA9IHByb3AucmFuZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNsYXNzTmFtZSA9IGdldENsYXNzTmFtZShlZGl0b3IudHlwZSk7XHJcbiAgICBlZGl0b3IudHlwZU5hbWUgPSBjbGFzc05hbWUySW5zcGVjdG9yTmFtZVtjbGFzc05hbWVdIHx8IGNsYXNzTmFtZTtcclxuICAgIFxyXG4gICAgZWRpdG9yLnZhbHVlQ3RvciA9IGVudW1zMmN0b3JbZWRpdG9yLnR5cGVdO1xyXG5cclxuICAgIGlmIChlZGl0b3IudHlwZU5hbWUgPT0gJ2NjLlRleHR1cmUyRCcpIHtcclxuICAgICAgICBlZGl0b3IudHlwZU5hbWUgPSAnY2MuQXNzZXQnO1xyXG4gICAgICAgIGVkaXRvci5hc3NldFR5cGUgPSAnY2MuVGV4dHVyZTJEJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWRpdG9yO1xyXG59OyJdLCJzb3VyY2VSb290IjoiLyJ9